<div class="container">
	<div class="row">
		<div class="col-sm-1">
			
		</div>

		<div class="col-sm-10">
      <div class="constructor">
		    <p id="notice"><%= notice %></p>

  			<div class="encabezado_proyecto">
  				<div>
  				  <h1>
  					  <%= @reform.nombre %>
  				  </h1>				
  				</div>          

  				<div>
  				  <h3 style="display: inline-flex; font-weight: normal;">
  				  	User:
  					  <% @user = User.find_by(id: @reform.user_id) %>
  					  <b>&nbsp;&nbsp;&nbsp;<%= @user.name %></b>
  				  </h3>				
  				</div>

  				<div>
  				  <h3 style="display: inline-flex; font-weight: normal;">
  				  	Localidad:
  					  <b>&nbsp;&nbsp;&nbsp;<%= @reform.localidad %></b>
  				  </h3>				
  				</div>				
  			</div>

        <div class="resumen" style="display: block; border: none; padding: 0px;">

  				<% if @habitaciones.any? %>
  					<% @habitaciones.each do |habitacion| %>
              <h3 style="font-size: 25px; font-weight: bolder; padding-top: 20px;"><%= habitacion.nombre %></h3>
                <div class="resumen" style="display: block;">
                  <% if  habitacion.demo_quitar_azulejo != nil or habitacion.demo_quitar_baldosa != nil or habitacion.demo_quitar_falso_techo != nil or habitacion.demo_quitar_tabique != nil %>
                    <div id="Div0" style="display: block;">
                      <div class="titulo">
                        <h3 style="">Demoliciones</h3>
                      </div>
                      <ul class="lista_principal" style="">

                        <% if  habitacion.demo_quitar_azulejo != nil %>
                        <li class="lista_elemento" style=" ">
                          <ul class="elemento" id="quitar_azulejo" style="">
                              <% @task = Task.find_by(task: 'demo_quitar_azulejo') %>
                            
                            <li>
                              <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                            </li>
                            <li>
                              <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                            </li>
                            <li class="field">
                              <h5 style="font-weight: bolder;"><%= habitacion.demo_quitar_azulejo %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                            </li>
                            <li>
                              <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                            </li>
                            <li class="importe">
                              <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_demo_quitar_azulejo = (@task.importe * habitacion.demo_quitar_azulejo) %> €</h3>
                            </li>
                          </ul>
                        </li>
                        <% end %>

                        <% if  habitacion.demo_quitar_baldosa != nil %>
                        <li style="">
                            <ul class="elemento" style="">
                                <% @task = Task.find_by(task: 'demo_quitar_baldosa') %>
                              
                              <li>
                                <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                              </li>
                              <li>
                                <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                              </li>
                              <li class="field">
                                <h5 style="font-weight: bolder;"><%= habitacion.demo_quitar_baldosa %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                              </li>
                              <li>
                                <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                              </li>
                              <li class="importe">
                                <% if @task.importe != nil %>
                                <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_demo_quitar_baldosa = (@task.importe * habitacion.demo_quitar_baldosa ) %> €</h3>
                                <% end %>
                              </li>
                              <% if @task.mat_aportar != nil %>
                                <li class="mat_aportar">
                                    Materiales necesarios: <%= @task.mat_aportar %>
                                </li>
                              <% end %>
                            </ul>        
                        </li>
                        <% end %>

                        <% if  habitacion.demo_quitar_falso_techo != nil %>
                        <li style="">
                            <ul class="elemento" style="">
                                <% @task = Task.find_by(task: 'demo_quitar_falso_techo') %>
                              
                              <li>
                                <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                              </li>
                              <li>
                                <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                              </li>
                              <li class="field">
                                <h5 style="font-weight: bolder;"><%= habitacion.demo_quitar_falso_techo %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                              </li>
                              <li>
                                <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                              </li>
                              <li class="importe">
                                <% if @task.importe != nil %>
                                <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_demo_quitar_falso_techo = (@task.importe * habitacion.demo_quitar_falso_techo ) %> €</h3>
                                <% end %>
                              </li>
                              <% if @task.mat_aportar != nil %>
                                <li class="mat_aportar">
                                    Materiales necesarios: <%= @task.mat_aportar %>
                                </li>
                              <% end %>
                            </ul>        
                        </li>
                        <% end %> 

                        <% if  habitacion.demo_quitar_tabique != nil %>
                        <li>
                            <ul class="elemento">
                                <% @task = Task.find_by(task: 'demo_quitar_tabique') %>
                              
                              <li>
                                <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                              </li>
                              <li>
                                <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                              </li>
                              <li class="field">
                                <h5 style="font-weight: bolder;"><%= habitacion.demo_quitar_tabique %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                              </li>
                              <li>
                                <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                              </li>
                              <li class="importe">
                                <% if @task.importe != nil %>
                                <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_demo_quitar_tabique = (@task.importe * habitacion.demo_quitar_tabique ) %> €</h3>
                                <% end %>
                              </li>
                              <% if @task.mat_aportar != nil %>
                                <li class="mat_aportar">
                                    Materiales necesarios: <%= @task.mat_aportar %>
                                </li>
                              <% end %>
                            </ul>
                        </li>
                        <% end %>

                      </ul>
                    </div>
                  <% end %>


                    <% if  habitacion.demo_quitar_inodoro != nil or habitacion.demo_quitar_bidet != nil or habitacion.demo_quitar_plato_ducha != nil or habitacion.demo_quitar_mampara != nil or habitacion.demo_quitar_mueble_bano != nil or habitacion.demo_quitar_banera != nil  %>
                      <div class="titulo">
                        <h3 style="">Retirar elementos baño</h3>
                      </div>
                      <ul class="lista_principal" style="">

                        <% if  habitacion.demo_quitar_inodoro != nil %>
                        <li>
                          <ul class="elemento">
                              <% @task = Task.find_by(task: 'demo_quitar_inodoro') %>
                            
                            <li>
                              <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                            </li>
                            <li>
                              <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                            </li>
                            <li class="field">
                              <h5 style="font-weight: bolder;"><%= habitacion.demo_quitar_inodoro %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                            </li>
                            <li>
                              <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                            </li>
                            <li class="importe">
                              <% if @task.importe != nil %>
                              <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_demo_quitar_inodoro = (@task.importe * habitacion.demo_quitar_inodoro ) %> €</h3>
                              <% end %>
                            </li>
                            <% if @task.mat_aportar != nil %>
                              <li class="mat_aportar">
                                  Materiales necesarios: <%= @task.mat_aportar %>
                              </li>
                            <% end %>
                          </ul>
                        </li>
                        <% end %>  

                        <% if  habitacion.demo_quitar_bidet != nil %>
                        <li>
                            <ul class="elemento">
                                <% @task = Task.find_by(task: 'demo_quitar_bidet') %>
                              
                              <li>
                                <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                              </li>
                              <li>
                                <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                              </li>
                              <li class="field">
                                <h5 style="font-weight: bolder;"><%= habitacion.demo_quitar_bidet %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                              </li>
                              <li>
                                <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                              </li>
                              <li class="importe">
                                <% if @task.importe != nil %>
                                <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_demo_quitar_bidet = (@task.importe * habitacion.demo_quitar_bidet ) %> €</h3>
                                <% end %>
                              </li>
                              <% if @task.mat_aportar != nil %>
                                <li class="mat_aportar">
                                    Materiales necesarios: <%= @task.mat_aportar %>
                                </li>
                              <% end %>
                            </ul>
                        </li>
                        <% end %> 

                        <% if  habitacion.demo_quitar_plato_ducha != nil %>
                        <li>
                            <ul class="elemento">
                                <% @task = Task.find_by(task: 'demo_quitar_plato_ducha') %>
                              
                              <li>
                                <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                              </li>
                              <li>
                                <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                              </li>
                              <li class="field">
                                <h5 style="font-weight: bolder;"><%= habitacion.demo_quitar_plato_ducha %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                              </li>
                              <li>
                                <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                              </li>
                              <li class="importe">
                                <% if @task.importe != nil %>
                                <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_demo_quitar_plato_ducha = (@task.importe * habitacion.demo_quitar_plato_ducha ) %> €</h3>
                                <% end %>
                              </li>
                              <% if @task.mat_aportar != nil %>
                                <li class="mat_aportar">
                                    Materiales necesarios: <%= @task.mat_aportar %>
                                </li>
                              <% end %>
                            </ul>
                        </li>
                        <% end %>  

                        <% if  habitacion.demo_quitar_mampara != nil %>
                        <li>
                            <ul class="elemento">
                                <% @task = Task.find_by(task: 'demo_quitar_mampara') %>
                              
                              <li>
                                <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                              </li>
                              <li>
                                <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                              </li>
                              <li class="field">
                                <h5 style="font-weight: bolder;"><%= habitacion.demo_quitar_mampara %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                              </li>
                              <li>
                                <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                              </li>
                              <li class="importe">
                                <% if @task.importe != nil %>
                                <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_demo_quitar_mampara = (@task.importe * habitacion.demo_quitar_mampara ) %> €</h3>
                                <% end %>
                              </li>
                              <% if @task.mat_aportar != nil %>
                                <li class="mat_aportar">
                                    Materiales necesarios: <%= @task.mat_aportar %>
                                </li>
                              <% end %>
                            </ul>
                        </li>
                        <% end %> 

                        <% if  habitacion.demo_quitar_mueble_bano != nil %>
                        <li>
                            <ul class="elemento">
                                <% @task = Task.find_by(task: 'demo_quitar_mueble_bano') %>
                              
                              <li>
                                <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                              </li>
                              <li>
                                <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                              </li>
                              <li class="field">
                                <h5 style="font-weight: bolder;"><%= habitacion.demo_quitar_mueble_bano %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                              </li>
                              <li>
                                <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                              </li>
                              <li class="importe">
                                <% if @task.importe != nil %>
                                <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_demo_quitar_mueble_bano = (@task.importe * habitacion.demo_quitar_mueble_bano ) %> €</h3>
                                <% end %>
                              </li>
                              <% if @task.mat_aportar != nil %>
                                <li class="mat_aportar">
                                    Materiales necesarios: <%= @task.mat_aportar %>
                                </li>
                              <% end %>
                            </ul>
                        </li>
                        <% end %> 

                        <% if  habitacion.demo_quitar_banera != nil %>
                        <li>
                            <ul class="elemento">
                                <% @task = Task.find_by(task: 'demo_quitar_banera') %>
                              
                              <li>
                                <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                              </li>
                              <li>
                                <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                              </li>
                              <li class="field">
                                <h5 style="font-weight: bolder;"><%= habitacion.demo_quitar_banera %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                              </li>
                              <li>
                                <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                              </li>
                              <li class="importe">
                                <% if @task.importe != nil %>
                                <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_demo_quitar_banera = (@task.importe * habitacion.demo_quitar_banera ) %> €</h3>
                                <% end %>
                              </li>
                              <% if @task.mat_aportar != nil %>
                                <li class="mat_aportar">
                                    Materiales necesarios: <%= @task.mat_aportar %>
                                </li>
                              <% end %>
                            </ul>
                        </li>
                        <% end %>

                      </ul>
                    <% end %>

                    <% if  habitacion.demo_quitar_mobi_cocina != nil or habitacion.demo_retir_electrodomesticos != nil %> 
                      <div class="titulo">
                        <h3 style="">Retirar elementos cocina</h3>
                      </div>
                      <ul class="lista_principal" style="">

                          <% if  habitacion.demo_quitar_mobi_cocina != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'demo_quitar_mobi_cocina') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.demo_quitar_mobi_cocina %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </l class="importe"i>
                                <li>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_demo_quitar_mobi_cocina = (@task.importe * habitacion.demo_quitar_azulejo) %> €</h3>
                                </li>
                              </ul>
                          </li>
                          <% end %> 

                          <% if  habitacion.demo_retir_electrodomesticos != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'demo_retir_electrodomesticos') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.demo_retir_electrodomesticos %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_demo_retir_electrodomesticos = (@task.importe * habitacion.demo_retir_electrodomesticos ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>
                      </ul>
                     <% end %>

                    <% if  habitacion.demo_friso_madera != nil or habitacion.demo_quitar_mueble != nil %>
                      <div class="titulo">
                        <h3 style="">Retirar elementos salón</h3>
                      </div>
                      <ul class="lista_principal" style="">

                          <% if  habitacion.demo_friso_madera != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'demo_friso_madera') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.demo_friso_madera %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_demo_friso_madera = (@task.importe * habitacion.demo_friso_madera ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>  

                          <% if  habitacion.demo_quitar_mueble != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'demo_quitar_mueble') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.demo_quitar_mueble %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_demo_quitar_mueble = (@task.importe * habitacion.demo_quitar_mueble ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>
                      </ul>
                    <% end %>

                    <% if  habitacion.tub_termo_electrico != nil or habitacion.tub_radiador != nil %>
                      <div class="titulo">
                        <h3 style="">Instalación tuberías</h3>
                      </div>
                      <ul class="lista_principal" style=""> 

                          <% if  habitacion.tub_termo_electrico != nil %>     
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_termo_electrico') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.tub_termo_electrico %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_tub_termo_electrico = (@task.importe * habitacion.tub_termo_electrico ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %> 

                          <% if  habitacion.tub_radiador != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_radiador') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.tub_radiador %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_tub_radiador = (@task.importe * habitacion.tub_radiador ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>
                      </ul>
                    <% end %>

                    <% if  habitacion.tub_lavabo != nil or habitacion.tub_ducha_banera != nil or habitacion.tub_bidet != nil or habitacion.tub_inodoro != nil or habitacion.tub_colum_hidromasaje != nil or habitacion.tub_lavabo_doble != nil or habitacion.tub_jacuzzy != nil or habitacion.tub_sauna != nil or habitacion.tub_ducha_empotrada != nil or habitacion.tub_toallero != nil or habitacion.tub_reubicar_contador != nil or habitacion.tub_lavadora != nil or habitacion.tub_caldera != nil %>
                      <div class="titulo">
                        <h3 style="">Instalación tuberías baño</h3>
                      </div>
                      <ul class="lista_principal" style="">      
                          
                          <% if  habitacion.tub_lavabo != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_lavabo') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.tub_lavabo %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_tub_lavabo = (@task.importe * habitacion.tub_lavabo ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>

                          <% if  habitacion.tub_ducha_banera != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_ducha_banera') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.tub_ducha_banera %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_tub_ducha_banera = (@task.importe * habitacion.tub_ducha_banera ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %> 

                          <% if  habitacion.tub_bidet != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_bidet') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.tub_bidet %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_tub_bidet = (@task.importe * habitacion.tub_bidet ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %> 

                          <% if  habitacion.tub_inodoro != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_inodoro') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.tub_inodoro %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_tub_inodoro = (@task.importe * habitacion.tub_inodoro ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>

                          <% if  habitacion.tub_colum_hidromasaje != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_colum_hidromasaje') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.tub_colum_hidromasaje %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_tub_colum_hidromasaje = (@task.importe * habitacion.tub_colum_hidromasaje ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %> 

                          <% if  habitacion.tub_lavabo_doble != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_lavabo_doble') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.tub_lavabo_doble %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_tub_lavabo_doble = (@task.importe * habitacion.tub_lavabo_doble ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %> 

                          <% if  habitacion.tub_jacuzzy != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_jacuzzy') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.tub_jacuzzy %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_tub_jacuzzy = (@task.importe * habitacion.tub_jacuzzy ) %> €</h3>
                                  <% end %>
                                 </li>
                                 <% if @task.mat_aportar != nil %>
                                   <l class="mat_aportar"i>
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                   </li>
                                 <% end %>
                              </ul>
                          </li>
                          <% end %>  

                          <% if  habitacion.tub_sauna != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_sauna') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.tub_sauna %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_tub_sauna = (@task.importe * habitacion.tub_sauna ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %> 

                          <% if  habitacion.tub_ducha_empotrada != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_ducha_empotrada') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.tub_ducha_empotrada %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_tub_ducha_empotrada = (@task.importe * habitacion.tub_ducha_empotrada ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>

                          <% if  habitacion.tub_toallero != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_toallero') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.tub_toallero %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_tub_toallero = (@task.importe * habitacion.tub_toallero ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>  

                          <% if  habitacion.tub_reubicar_contador != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_reubicar_contador') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.tub_reubicar_contador %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_tub_reubicar_contador = (@task.importe * habitacion.tub_reubicar_contador ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>

                          <% if  habitacion.tub_lavadora != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_lavadora') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.tub_lavadora %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_tub_lavadora = (@task.importe * habitacion.tub_lavadora ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>  

                          <% if  habitacion.tub_reubicar_inodoro != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_reubicar_inodoro') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.tub_reubicar_inodoro %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_tub_reubicar_inodoro = (@task.importe * habitacion.tub_reubicar_inodoro ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>

                          <% if  habitacion.tub_tipo != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_tipo') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.tub_tipo %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_tub_tipo = (@task.importe * habitacion.tub_tipo ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %> 

                          <% if  habitacion.tub_caldera != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_caldera') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.tub_caldera %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_tub_caldera = (@task.importe * habitacion.tub_caldera ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>
                      </ul>
                    <% end %>          

                    <% if  habitacion.tub_fregadero != nil or habitacion.tub_lavavajillas != nil or habitacion.tub_secadora != nil %>
                      <div class="titulo">
                        <h3 style="">Instalación tuberías cocina</h3>
                      </div>
                      <ul class="lista_principal" style=" ">

                          <% if  habitacion.tub_fregadero != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_fregadero') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.tub_fregadero %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_tub_fregadero = (@task.importe * habitacion.tub_fregadero ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.tub_lavavajillas != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_lavavajillas') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.tub_lavavajillas %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_tub_lavavajillas = (@task.importe * habitacion.tub_lavavajillas ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.tub_secadora != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_secadora') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.tub_secadora %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_tub_secadora = (@task.importe * habitacion.tub_secadora ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>
                      </ul>
                    <% end %>

                    <% if  habitacion.elec_pto_luz_techo != nil or
                      habitacion.elec_pto_luz_pared != nil or
                      habitacion.elec_interr_simple != nil  or
                      habitacion.elec_interr_doble != nil or
                      habitacion.elec_interr_triple != nil or
                      habitacion.elec_enchu_simple != nil or
                      habitacion.elec_enchu_doble != nil or
                      habitacion.elec_enchu_triple != nil or
                      habitacion.elec_reubicar_caja_luz != nil or
                      habitacion.elec_toma_lavadora != nil or
                      habitacion.elec_toma_ventilador_extractor != nil or
                      habitacion.elec_toma_horno_vitroceramica != nil or
                      habitacion.elec_toma_microondas != nil or
                      habitacion.elec_toma_frigorifico != nil or
                      habitacion.elec_toma_lavavajillas != nil or
                      habitacion.elec_toma_secadora != nil or
                      habitacion.elec_toma_telefono != nil %>
                      <div class="titulo">
                        <h3 style="">Instalación eléctrica</h3>
                      </div>
                      <ul class="lista_principal" style="">      

                          <% if  habitacion.elec_pto_luz_techo != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'elec_pto_luz_techo') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.elec_pto_luz_techo %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_elec_pto_luz_techo = (@task.importe * habitacion.elec_pto_luz_techo ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %> 

                          <% if  habitacion.elec_pto_luz_pared != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'elec_pto_luz_pared') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.elec_pto_luz_pared %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_elec_pto_luz_pared = (@task.importe * habitacion.elec_pto_luz_pared ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>

                          <% if  habitacion.elec_interr_simple != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'elec_interr_simple') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.elec_interr_simple %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_elec_interr_simple = (@task.importe * habitacion.elec_interr_simple ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>

                          <% if  habitacion.elec_interr_doble != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'elec_interr_doble') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.elec_interr_doble %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_elec_interr_doble = (@task.importe * habitacion.elec_interr_doble ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>

                          <% if  habitacion.elec_interr_triple != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'elec_interr_triple') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.elec_interr_triple %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_elec_interr_triple = (@task.importe * habitacion.elec_interr_triple ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>

                          <% if  habitacion.elec_enchu_simple != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'elec_enchu_simple') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.elec_enchu_simple %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_elec_enchu_simple = (@task.importe * habitacion.elec_enchu_simple ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>

                          <% if  habitacion.elec_enchu_doble != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'elec_enchu_doble') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.elec_enchu_doble %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_elec_enchu_doble = (@task.importe * habitacion.elec_enchu_doble ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>

                          <% if  habitacion.elec_enchu_triple != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'elec_enchu_triple') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.elec_enchu_triple %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_elec_enchu_triple = (@task.importe * habitacion.elec_enchu_triple ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>

                          <% if  habitacion.elec_reubicar_caja_luz != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'elec_reubicar_caja_luz') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.elec_reubicar_caja_luz %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_elec_reubicar_caja_luz = (@task.importe * habitacion.elec_reubicar_caja_luz ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %> 

                          <% if  habitacion.elec_toma_lavadora != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'elec_toma_lavadora') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.elec_toma_lavadora %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_elec_toma_lavadora = (@task.importe * habitacion.elec_toma_lavadora ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>

                          <% if  habitacion.elec_toma_ventilador_extractor != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'elec_toma_ventilador_extractor') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.elec_toma_ventilador_extractor %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_elec_toma_ventilador_extractor = (@task.importe * habitacion.elec_toma_ventilador_extractor) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>

                          <% if  habitacion.elec_toma_horno_vitroceramica != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'elec_toma_horno_vitroceramica') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.elec_toma_horno_vitroceramica %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_elec_toma_horno_vitroceramica = (@task.importe * habitacion.elec_toma_horno_vitroceramica) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>  

                          <% if  habitacion.elec_toma_microondas != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'elec_toma_microondas') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.elec_toma_microondas %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_elec_toma_microondas = (@task.importe * habitacion.elec_toma_microondas ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>  

                          <% if  habitacion.elec_toma_frigorifico != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'elec_toma_frigorifico') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.elec_toma_frigorifico %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_elec_toma_frigorifico = (@task.importe * habitacion.elec_toma_frigorifico ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>  

                          <% if  habitacion.elec_toma_lavavajillas != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'elec_toma_lavavajillas') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.elec_toma_lavavajillas %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_elec_toma_lavavajillas = (@task.importe * habitacion.elec_toma_lavavajillas ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>

                          <% if  habitacion.elec_toma_secadora != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'elec_toma_secadora') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.elec_toma_secadora %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_elec_toma_secadora = (@task.importe * habitacion.elec_toma_secadora ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>

                          <% if  habitacion.elec_toma_telefono != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'elec_toma_telefono') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.elec_toma_telefono %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_elec_toma_telefono = (@task.importe * habitacion.elec_toma_telefono ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>
                      </ul>
                    <% end %>

                    <% if  habitacion.alb_azulejo != nil or
                      habitacion.alb_tipo_azulejo != nil or
                      habitacion.alb_baldosa != nil or
                      habitacion.alb_tipo_baldosa != nil or
                      habitacion.alb_techo_pladur != nil or
                      habitacion.alb_tabique_ladriyeso != nil or
                      habitacion.alb_tabique_pladur != nil or
                      habitacion.alb_tabique_fabrica != nil or
                      habitacion.alb_tabique_paves != nil or
                      habitacion.alb_nivelacion_pared != nil %>
                      <div class="titulo">
                        <h3 style="">Albañilería</h3>
                      </div>
                      <ul class="lista_principal" style="">     

                          <% if  habitacion.alb_azulejo != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'alb_azulejo') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.alb_azulejo %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_alb_azulejo = (@task.importe * habitacion.alb_azulejo ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>

                          <% if  habitacion.alb_tipo_azulejo != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'alb_tipo_azulejo') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.alb_tipo_azulejo %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_alb_tipo_azulejo = (@task.importe * habitacion.alb_tipo_azulejo ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li> 
                          <% end %>

                          <% if  habitacion.alb_baldosa != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'alb_baldosa') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.alb_baldosa %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_alb_baldosa = (@task.importe * habitacion.alb_baldosa  ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.alb_tipo_baldosa != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'alb_tipo_baldosa') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.alb_tipo_baldosa %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_alb_tipo_baldosa = (@task.importe * habitacion.alb_tipo_baldosa ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %> 

                          <% if  habitacion.alb_techo_pladur != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'alb_techo_pladur') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.alb_techo_pladur %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_alb_techo_pladur = (@task.importe * habitacion.alb_techo_pladur ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>  

                          <% if  habitacion.alb_tabique_ladriyeso != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'alb_tabique_ladriyeso') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.alb_tabique_ladriyeso %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_alb_tabique_ladriyeso = (@task.importe * habitacion.alb_tabique_ladriyeso ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %> 

                          <% if  habitacion.alb_tabique_pladur != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'alb_tabique_pladur') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.alb_tabique_pladur %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_alb_tabique_pladur = (@task.importe * habitacion.alb_tabique_pladur ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %> 

                          <% if  habitacion.alb_tabique_fabrica != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'alb_tabique_fabrica') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.alb_tabique_fabrica %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_alb_tabique_fabrica = (@task.importe * habitacion.alb_tabique_fabrica ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>  

                          <% if  habitacion.alb_tabique_paves != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'alb_tabique_paves') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.alb_tabique_paves %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_alb_tabique_paves = (@task.importe * habitacion.alb_tabique_paves ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.alb_nivelacion_pared != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'alb_nivelacion_pared') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.alb_nivelacion_pared %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_alb_nivelacion_pared = (@task.importe * habitacion.alb_nivelacion_pared ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>
                      </ul>
                    <% end %>

                    <% if  habitacion.mont_sani_mampara != nil or habitacion.mont_sani_mueble_bano != nil or
                      habitacion.mont_sani_banera != nil or
                      habitacion.mont_sani_plato_ducha != nil or
                      habitacion.mont_sani_bidet != nil or
                      habitacion.mont_sani_inodoro_normal != nil or
                      habitacion.mont_sani_inodoro_suspendido != nil or
                      habitacion.mont_sani_inodoro_encastrado != nil or
                      habitacion.mont_sani_grifo_ducha != nil or
                      habitacion.mont_sani_grifo_banera != nil or
                      habitacion.mont_sani_acceso_atornillado != nil or
                      habitacion.mont_sani_colum_hidromasaje != nil or
                      habitacion.mont_sani_cabina_ducha != nil or
                      habitacion.mont_sani_plato_ducha_obra != nil or
                      habitacion.mont_sani_lavabo_pedestal != nil %>
                      <div class="titulo">
                        <h3 style="">Albañlería baño</h3>
                      </div>
                      <ul class="lista_principal" style=" ">

                          <% if  habitacion.mont_sani_mampara != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_sani_mampara') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.mont_sani_mampara %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_mont_sani_mampara = (@task.importe * habitacion.mont_sani_mampara ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.mont_sani_mueble_bano != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_sani_mueble_bano') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.mont_sani_mueble_bano %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_mont_sani_mueble_bano = (@task.importe * habitacion.mont_sani_mueble_bano ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>  

                          <% if  habitacion.mont_sani_banera != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_sani_banera') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.mont_sani_banera %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_mont_sani_banera = (@task.importe * habitacion.mont_sani_banera ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.mont_sani_plato_ducha != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_sani_plato_ducha') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.mont_sani_plato_ducha %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_mont_sani_plato_ducha = (@task.importe * habitacion.mont_sani_plato_ducha ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.mont_sani_bidet != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_sani_bidet') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.mont_sani_bidet %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_mont_sani_bidet = (@task.importe * habitacion.mont_sani_bidet ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.mont_sani_inodoro_normal != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_sani_inodoro_normal') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.mont_sani_inodoro_normal %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_mont_sani_inodoro_normal = (@task.importe * habitacion.mont_sani_inodoro_normal ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.mont_sani_inodoro_suspendido != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_sani_inodoro_suspendido') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.mont_sani_inodoro_suspendido %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_mont_sani_inodoro_suspendido = (@task.importe * habitacion.mont_sani_inodoro_suspendido ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.mont_sani_inodoro_encastrado != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_sani_inodoro_encastrado') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.mont_sani_inodoro_encastrado %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_mont_sani_inodoro_encastrado = (@task.importe * habitacion.mont_sani_inodoro_encastrado ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.mont_sani_grifo_ducha != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_sani_grifo_ducha') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.mont_sani_grifo_ducha %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_mont_sani_grifo_ducha = (@task.importe * habitacion.mont_sani_grifo_ducha ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.mont_sani_grifo_banera != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_sani_grifo_banera') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.mont_sani_grifo_banera %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_mont_sani_grifo_banera = (@task.importe * habitacion.mont_sani_grifo_banera ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.mont_sani_acceso_atornillado != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_sani_acceso_atornillado') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.mont_sani_acceso_atornillado %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_mont_sani_acceso_atornillado = (@task.importe * habitacion.mont_sani_acceso_atornillado ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                           <% if  habitacion.mont_sani_colum_hidromasaje != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_sani_colum_hidromasaje') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.mont_sani_colum_hidromasaje %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_mont_sani_colum_hidromasaje = (@task.importe * habitacion.mont_sani_colum_hidromasaje ) %>  €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.mont_sani_cabina_ducha != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_sani_cabina_ducha') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.mont_sani_cabina_ducha %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_mont_sani_cabina_ducha = (@task.importe * habitacion.mont_sani_cabina_ducha ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.mont_sani_plato_ducha_obra != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_sani_plato_ducha_obra') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.mont_sani_plato_ducha_obra %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_mont_sani_plato_ducha_obra = (@task.importe * habitacion.mont_sani_plato_ducha_obra ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.mont_sani_lavabo_pedestal != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_sani_lavabo_pedestal') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.mont_sani_lavabo_pedestal %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_mont_sani_lavabo_pedestal = (@task.importe * habitacion.mont_sani_lavabo_pedestal ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>
                      </ul>
                    <% end %>

                    <% if  habitacion.mont_electro_mueble_alto_cocina != nil or
                      habitacion.mont_electro_mueble_bajo_cocina != nil or
                      habitacion.mont_electro_horno_electrico != nil or
                      habitacion.mont_electro_placa_vitro != nil or
                      habitacion.mont_electro_placa_electrica != nil or
                      habitacion.mont_electro_lavadora != nil or
                      habitacion.mont_electro_frigorifico != nil or
                      habitacion.mont_electro_lavavajillas != nil or
                      habitacion.mont_electro_microondas != nil  or
                      habitacion.mont_electro_secadora != nil or
                      habitacion.mont_fregadero != nil or
                      habitacion.mont_grifo_fregadero != nil %>
                      <div class="titulo">
                        <h3 style="">Albañilería Cocina</h3>
                      </div>
                      <ul class="lista_principal" style=" ">

                          <% if  habitacion.mont_electro_mueble_alto_cocina != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_electro_mueble_alto_cocina') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.mont_electro_mueble_alto_cocina %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_mont_electro_mueble_alto_cocina = (@task.importe * habitacion.mont_electro_mueble_alto_cocina ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.mont_electro_mueble_bajo_cocina != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_electro_mueble_bajo_cocina') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.mont_electro_mueble_bajo_cocina %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_mont_electro_mueble_bajo_cocina = (@task.importe * habitacion.mont_electro_mueble_bajo_cocina ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %> 

                          <% if  habitacion.mont_electro_horno_electrico != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_electro_horno_electrico') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.mont_electro_horno_electrico %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_mont_electro_horno_electrico = (@task.importe * habitacion.mont_electro_horno_electrico ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %> 

                          <% if  habitacion.mont_electro_placa_vitro != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_electro_placa_vitro') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.mont_electro_placa_vitro %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_mont_electro_placa_vitro = (@task.importe * habitacion.mont_electro_placa_vitro ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                           <% if habitacion.mont_electro_placa_electrica != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_electro_placa_electrica') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.mont_electro_placa_electrica %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_mont_electro_placa_electrica = (@task.importe * habitacion.mont_electro_placa_electrica ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %> 


                          <% if  habitacion.mont_electro_lavadora != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_electro_lavadora') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.mont_electro_lavadora %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_mont_electro_lavadora = (@task.importe * habitacion.mont_electro_lavadora ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.mont_electro_frigorifico != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_electro_frigorifico') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.mont_electro_frigorifico %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_mont_electro_frigorifico = (@task.importe * habitacion.mont_electro_frigorifico ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.mont_electro_lavavajillas != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_electro_lavavajillas') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.mont_electro_lavavajillas %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_mont_electro_lavavajillas = (@task.importe * habitacion.mont_electro_lavavajillas ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                           <% if  habitacion.mont_electro_microondas != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_electro_microondas') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.mont_electro_microondas %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_mont_electro_microondas = (@task.importe * habitacion.mont_electro_microondas ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.mont_electro_secadora != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_electro_secadora') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.mont_electro_secadora %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_mont_electro_secadora = (@task.importe * habitacion.mont_electro_secadora ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.mont_fregadero != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_fregadero') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.mont_fregadero %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_mont_fregadero = (@task.importe * habitacion.mont_fregadero ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.mont_grifo_fregadero != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_grifo_fregadero') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.mont_grifo_fregadero %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_mont_grifo_fregadero = (@task.importe * habitacion.mont_grifo_fregadero ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>
                      </ul>
                    <% end %>

                    <% if  habitacion.colo_pmarcha_termo_elect_a != nil or
                    habitacion.colo_pmarcha_termo_elect_b != nil or
                    habitacion.colo_pmarcha_termo_elect_c != nil or
                    habitacion.colo_pmarcha_termo_elect_d != nil or
                    habitacion.colo_pmarcha_termo_elect_e != nil or
                    habitacion.colo_pmarcha_termo_elect_f != nil %>
                      <div class="titulo">
                        <h3 style="">Instalación Termos eléctricos</h3>
                      </div>
                      <ul class="lista_principal" style=" ">
                          
                          <% if  habitacion.colo_pmarcha_termo_elect_a != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'colo_pmarcha_termo_elect_a') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.colo_pmarcha_termo_elect_a %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_colo_pmarcha_termo_elect_a = (@task.importe * habitacion.colo_pmarcha_termo_elect_a ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                           <% if  habitacion.colo_pmarcha_termo_elect_b != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'colo_pmarcha_termo_elect_b') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.colo_pmarcha_termo_elect_b %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_colo_pmarcha_termo_elect_b = (@task.importe * habitacion.colo_pmarcha_termo_elect_b ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.colo_pmarcha_termo_elect_c != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'colo_pmarcha_termo_elect_c') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.colo_pmarcha_termo_elect_c %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_colo_pmarcha_termo_elect_c = (@task.importe * habitacion.colo_pmarcha_termo_elect_c ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.colo_pmarcha_termo_elect_d != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'colo_pmarcha_termo_elect_d') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.colo_pmarcha_termo_elect_d %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_colo_pmarcha_termo_elect_d = (@task.importe * habitacion.colo_pmarcha_termo_elect_d ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.colo_pmarcha_termo_elect_e != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'colo_pmarcha_termo_elect_e') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.colo_pmarcha_termo_elect_e %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_colo_pmarcha_termo_elect_e = (@task.importe * habitacion.colo_pmarcha_termo_elect_e ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.colo_pmarcha_termo_elect_f != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'colo_pmarcha_termo_elect_f') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.colo_pmarcha_termo_elect_f %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_colo_pmarcha_termo_elect_f = (@task.importe * habitacion.colo_pmarcha_termo_elect_f ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>
                      </ul>
                    <% end %>

                    <% if  habitacion.colo_pmarcha_calde_atmos != nil or habitacion.colo_pmarcha_calde_bajo_nox != nil or habitacion.colo_pmarcha_calde_estanca != nil %>
                      <div class="titulo">
                        <h3 style="">Instalación Calderas</h3>
                      </div>
                      <ul class="lista_principal" style=" ">
                          
                          <% if  habitacion.colo_pmarcha_calde_atmos != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'colo_pmarcha_calde_atmos') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.colo_pmarcha_calde_atmos %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_colo_pmarcha_calde_atmos = (@task.importe * habitacion.colo_pmarcha_calde_atmos ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                           <% if  habitacion.colo_pmarcha_calde_bajo_nox != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'colo_pmarcha_calde_bajo_nox') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.colo_pmarcha_calde_bajo_nox %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_colo_pmarcha_calde_bajo_nox = (@task.importe * habitacion.colo_pmarcha_calde_bajo_nox ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                           <% if  habitacion.colo_pmarcha_calde_estanca != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'colo_pmarcha_calde_estanca') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.colo_pmarcha_calde_estanca %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_colo_pmarcha_calde_estanca = (@task.importe * habitacion.colo_pmarcha_calde_estanca ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>
                      </ul>
                    <% end %>

                    <% if  habitacion.techo_pintar != nil or habitacion.techo_tipo_pintura != nil or habitacion.techo_alisar != nil or habitacion.techo_reparar_humedad != nil or habitacion.pared_empapelar != nil or habitacion.pared_quitar_papel != nil or habitacion.pared_alisar != nil or habitacion.pared_pintar != nil or habitacion.pared_reparar_humedad != nil or habitacion.carpin_friso != nil %>
                      <div class="titulo">
                        <h3 style="">Pintores</h3>
                      </div>
                      <ul class="lista_principal" style="">
                          

                          <% if  habitacion.techo_pintar != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'techo_pintar') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.techo_pintar %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_techo_pintar = (@task.importe * habitacion.techo_pintar ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.techo_tipo_pintura != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'techo_tipo_pintura') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.techo_tipo_pintura %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_techo_tipo_pintura = (@task.importe * habitacion.techo_tipo_pintura ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.techo_alisar != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'techo_alisar') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.techo_alisar %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_techo_alisar = (@task.importe * habitacion.techo_alisar ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.techo_reparar_humedad != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'techo_reparar_humedad') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.techo_reparar_humedad %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_techo_reparar_humedad = (@task.importe * habitacion.techo_reparar_humedad ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.pared_empapelar != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'pared_empapelar') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.pared_empapelar %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_pared_empapelar = (@task.importe * habitacion.pared_empapelar ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.pared_quitar_papel != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'pared_quitar_papel') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.pared_quitar_papel %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_pared_quitar_papel = (@task.importe * habitacion.pared_quitar_papel ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.pared_alisar != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'pared_alisar') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.pared_alisar %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_pared_alisar = (@task.importe * habitacion.pared_alisar ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.pared_pintar != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'pared_pintar') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.pared_pintar %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_pared_pintar = (@task.importe * habitacion.pared_pintar ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.pared_reparar_humedad != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'pared_reparar_humedad') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.pared_reparar_humedad %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_pared_reparar_humedad = (@task.importe * habitacion.pared_reparar_humedad ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.carpin_friso != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'carpin_friso') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.carpin_friso %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_carpin_friso = (@task.importe * habitacion.carpin_friso ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>
                      </ul>
                    <% end %>

                    <% if  habitacion.puerta_colocar != nil or habitacion.puerta_tipo != nil or habitacion.puerta_cambio_precerco != nil or habitacion.ventana_colocar != nil or habitacion.ventana_tipo != nil or habitacion.ventana_contraventana != nil %>
                      <div class="titulo">
                        <h3 style="">Puertas y ventanas</h3>
                      </div>
                      <ul class="lista_principal" style="">
                          

                          <% if  habitacion.puerta_colocar != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'puerta_colocar') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.puerta_colocar %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_puerta_colocar = (@task.importe * habitacion.puerta_colocar ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>

            
                          <% if  habitacion.puerta_tipo != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'puerta_tipo') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.puerta_tipo %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_puerta_tipo = (@task.importe * habitacion.puerta_tipo ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.puerta_cambio_precerco != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'puerta_cambio_precerco') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.puerta_cambio_precerco %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_puerta_cambio_precerco = (@task.importe * habitacion.puerta_cambio_precerco ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.ventana_colocar != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'ventana_colocar') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.ventana_colocar %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_ventana_colocar = (@task.importe * habitacion.ventana_colocar ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.ventana_tipo != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'ventana_tipo') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.ventana_tipo %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_ventana_tipo = (@task.importe * habitacion.ventana_tipo ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  habitacion.ventana_contraventana != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'ventana_contraventana') %>
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.description if @task.description != nil %></h5> </div>
                                </li>
                                <li class="field">
                                  <h5 style="font-weight: bolder;"><%= habitacion.ventana_contraventana %> <span style="margin-left: 40px;">(<%= @task.um if @task.um != nil %>)</span> </h5>
                                </li>
                                <li>
                                  <h5 style="font-weight: 300; color: grey;">Precio medio = <%= @task.importe if @task.importe != nil %> €/<%= @task.um %></h5>
                                </li>
                                <li class="importe">
                                  <% if @task.importe != nil %>
                                  <h3 style="margin: 0px;">Importe: <%= @importe_habitacion_ventana_contraventana = (@task.importe * habitacion.ventana_contraventana ) %> €</h3>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar">
                                      Materiales necesarios: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>
                      </ul>
                    <% end %>
              </div>            
  				    <% end %>
            <% end %>
        </div>

        <div style="margin-top: 50px;">
          <h1>Coste de la reforma = <%= @budgets = Budget.where(reform_id: params[:id]).sum('cost') %> €</h1>
        </div>

        <% @habitaciones = Habitacion.where(reform_id: @reform.id) %>
        <% @sumatorio = Budget.where(reform_id: @reform.id) %>


        <% if Confirmacion.find_by(reform_id: @reform.id, user_id: current_user.id) == nil %>
          <% if @habitaciones.count > @sumatorio.count %> 
            <h3>
              <%= link_to reform_path(id: @reform) do %>
              <button type="button" class="btn btn-sm btn-primary" style="background-color: white; border: 1px solid #d9534f; color: #d9534f; padding: 10px; margin: 5px; margin-left: 0px; font-size: 16px;">Falta alguna habitación por validar su medición</button>
              <% end %>
            </h3>
          <% else %>
            <div>
              <h3><%= render 'confirmacions/form', confirmacion: @confirmacion %></h3>
            </div>            
          <% end %>

        <% end %>

        <div style="margin-top: 60px;">
          <h3>¿Quieres que le echemos un vistazo a su proyecto y comprobar en la base de datos si podemos bajar el precio o mejorarla en algún sentido?</h3>
        </div>        

      </div>	

		<div class="col-sm-4">
			
		</div>
	</div>
</div>

<script>

  $(function () {
    $('[data-toggle="popover"]').popover()
  })

</script> 



