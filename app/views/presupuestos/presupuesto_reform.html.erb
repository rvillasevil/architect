  <div class="container">
	<div class="row">
		<div class="col-sm-1">
			
		</div>

		<div class="col-sm-10">
      <div class="constructor">
        <div class="encabezado_proyecto">
          <div>
            <h1 style="font-weight: 700; color: #666 !important; letter-spacing: -2px;"><%= @reform.nombre %></h1>
          </div>          

          <div>
            <h3>
              User:
              <% @user = User.find_by(id: @reform.user_id) %>
              <b>&nbsp;&nbsp;&nbsp;<%= @user.name %></b>
            </h3>       
          </div>

          <div>
            <h3 style="display: inline-flex; font-weight: normal;">
              Localidad:
              <b>&nbsp;&nbsp;&nbsp;<%= @reform.localidad %></b>
            </h3>       
          </div>

          <% if params[:empresa] != nil %>
          <% @empresa = User.find_by(name: params[:empresa]) %>

          <div>
            <h3 style="display: inline-flex; font-weight: normal;">
              Empresa:
              
              <b>&nbsp;&nbsp;&nbsp;<u><%= link_to @empresa.name, user_path(@empresa), style: "color: #444;" %></u></b></h3>
              <!--<b>&nbsp;&nbsp;&nbsp;<%= params[:empresa] %></b>-->
              <% if current_user.empresa == true %>
                <div style="">
                  <h3>Coste de la reforma = <b><%= @budgets = Budget.where(reform_id: params[:id], user_id: current_user.id).sum('cost') %> €</b></h3>
                </div>
              <% else %>
                <div style="">
                  <h3>Presupuesto para tu proyecto = <b><%= @budgets = Budget.where(reform_id: params[:id], user_id: @empresa.id).sum('cost') %> €</b></h3>
                </div>
              <% end %>              
                           
          </div>
          <% end %>                          
        </div>


        <div class="resumen" style="display: block; border: none; padding: 0px;">

          <% if @presupuestos.any? %>
            <% @presupuestos.map do |presupuesto| %>
            <% if presupuesto.habitacion_id != nil %>
              <%# Habitacion.where(reform_id: params[:id]).count %>
              <% @habitacion_presupuesto = Habitacion.find_by(id: presupuesto.habitacion_id) %>
              <% @presupuesto_habitacion = Budget.find_by(habitacion_id: @habitacion_presupuesto.id) %>
              <h3 style="font-size: 25px; font-weight: bolder; padding-top: 20px; color: #008489 !important;"><%= @habitacion_presupuesto.nombre %>: <%= @presupuesto_habitacion.cost %> €</h3>
              
                
                <div class="resumen" style="display: block;">
                  <% if  presupuesto.demo_quitar_azulejo != nil or presupuesto.demo_quitar_baldosa != nil or presupuesto.demo_quitar_falso_techo != nil or presupuesto.demo_quitar_tabique != nil %>
                    <div id="Div0" style="display: block;">
                      <div class="titulo">
                        <h3 style="">Demoliciones</h3>
                      </div>
                      <ul class="lista_principal" style="">

                        <% if  presupuesto.demo_quitar_azulejo != nil %>
                        <li class="lista_elemento" style=" ">
                          <ul class="elemento" id="quitar_azulejo" style="">
                              <% @task = Task.find_by(task: 'demo_quitar_azulejo') %>
                            
                            <li>
                              <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                            </li>
                            <li>
                              <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                            </li>
                            <% if @habitacion_presupuesto.demo_quitar_azulejo != nil %>
                            <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.demo_quitar_azulejo if @habitacion_presupuesto.demo_quitar_azulejo %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                            <li class="field">
                              <h5 style="">Tu oferta = <b><%= presupuesto.demo_quitar_azulejo %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                            </li>
                            <li>
                              <%= presupuesto.demo_quitar_azulejo_comment %>
                            </li>
                            <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                              <h5 style="">Importe = <b><%= @importe_presupuesto_demo_quitar_azulejo = (@habitacion_presupuesto.demo_quitar_azulejo * presupuesto.demo_quitar_azulejo) %> €</b></h5>
                            </li>
                            <% if @task.mat_aportar != nil %>
                              <li class="mat_aportar" style="color: grey;">
                                  Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                              </li>
                            <% end %>
                            <% if presupuesto.demo_quitar_azulejo_comment != nil %>
                            <li class="comments_presupuesto">                          
                              <%= presupuesto.demo_quitar_azulejo_comment %>
                            </li>
                            <% end %>
                          </ul>
                        </li>
                        <% end %>

                        <% if  presupuesto.demo_quitar_baldosa != nil %>
                        <li style="">
                            <ul class="elemento" style="">
                                <% @task = Task.find_by(task: 'demo_quitar_baldosa') %>
                              
                              <li>
                                <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                              </li>
                              <li>
                                <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                              </li>
                              <% if @habitacion_presupuesto.demo_quitar_baldosa != nil %>
                              <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.demo_quitar_baldosa if @habitacion_presupuesto.demo_quitar_baldosa %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                              <li class="field">
                                <h5 style="">Tu oferta = <b><%= presupuesto.demo_quitar_baldosa %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                              </li>
                              <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                <% if @task.importe != nil %>
                                <h5 style="">Importe = <b><%= @importe_presupuesto_demo_quitar_baldosa = (@habitacion_presupuesto.demo_quitar_baldosa * presupuesto.demo_quitar_baldosa ) %> €</b></h5>
                                <% end %>
                              </li>
                              <% if @task.mat_aportar != nil %>
                                <li class="mat_aportar" style="color: grey;">
                                    Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                </li>
                              <% end %>
                              <% if presupuesto.demo_quitar_baldosa_comment != nil %>
                              <li class="comments_presupuesto">
                                <%= presupuesto.demo_quitar_baldosa_comment %>
                              </li>
                              <% end %>
                            </ul>        
                        </li>
                        <% end %>

                        <% if  presupuesto.demo_quitar_falso_techo != nil %>
                        <li style="">
                            <ul class="elemento" style="">
                                <% @task = Task.find_by(task: 'demo_quitar_falso_techo') %>
                              
                              <li>
                                <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                              </li>
                              <li>
                                <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                              </li>
                              <% if @habitacion_presupuesto.demo_quitar_falso_techo != nil %>
                              <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.demo_quitar_falso_techo if @habitacion_presupuesto.demo_quitar_falso_techo %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                              <li class="field">
                                <h5 style="">Tu oferta = <b><%= presupuesto.demo_quitar_falso_techo %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                              </li>
                              <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                <% if @task.importe != nil %>
                                <h5 style="">Importe = <b><%= @importe_presupuesto_demo_quitar_falso_techo = (@habitacion_presupuesto.demo_quitar_falso_techo * presupuesto.demo_quitar_falso_techo ) %> €</b></h5>
                                <% end %>
                              </li>
                              <% if @task.mat_aportar != nil %>
                                <li class="mat_aportar" style="color: grey;">
                                    Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                </li>
                              <% end %>
                              <% if presupuesto.demo_quitar_falso_techo_comment != nil %>
                              <li class="comments_presupuesto">
                                <%= presupuesto.demo_quitar_falso_techo_comment %>
                              </li>
                              <% end %>
                            </ul>        
                        </li>
                        <% end %> 

                        <% if  presupuesto.demo_quitar_tabique != nil %>
                        <li>
                            <ul class="elemento">
                                <% @task = Task.find_by(task: 'demo_quitar_tabique') %>
                              
                              <li>
                                <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                              </li>
                              <li>
                                <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                              </li>
                              <% if @habitacion_presupuesto.demo_quitar_tabique != nil %>
                              <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.demo_quitar_tabique if @habitacion_presupuesto.demo_quitar_tabique %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                              <li class="field">
                                <h5 style="">Tu oferta = <b><%= presupuesto.demo_quitar_tabique %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                              </li>
                              <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                <% if @task.importe != nil %>
                                <h5 style="">Importe = <b><%= @importe_presupuesto_demo_quitar_tabique = (@habitacion_presupuesto.demo_quitar_tabique * presupuesto.demo_quitar_tabique ) %> €</b></h5>
                                <% end %>
                              </li>
                              <% if @task.mat_aportar != nil %>
                                <li class="mat_aportar" style="color: grey;">
                                    Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                </li>
                              <% end %>
                              <% if presupuesto.demo_quitar_tabique_comment != nil %>
                              <li class="comments_presupuesto">
                                <%= presupuesto.demo_quitar_tabique_comment %>
                              </li>
                              <% end %>
                            </ul>
                        </li>
                        <% end %>

                      </ul>
                    </div>
                  <% end %>


                    <% if  presupuesto.demo_quitar_inodoro != nil or presupuesto.demo_quitar_bidet != nil or presupuesto.demo_quitar_plato_ducha != nil or presupuesto.demo_quitar_mampara != nil or presupuesto.demo_quitar_mueble_bano != nil or presupuesto.demo_quitar_banera != nil  %>
                      <div class="titulo">
                        <h3 style="">Retirar elementos baño</h3>
                      </div>
                      <ul class="lista_principal" style="">

                        <% if  presupuesto.demo_quitar_inodoro != nil %>
                        <li>
                          <ul class="elemento">
                              <% @task = Task.find_by(task: 'demo_quitar_inodoro') %>
                            
                            <li>
                              <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                            </li>
                            <li>
                              <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                            </li>
                            <% if @habitacion_presupuesto.demo_quitar_inodoro != nil %>
                            <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.demo_quitar_inodoro if @habitacion_presupuesto.demo_quitar_inodoro %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                            <li class="field">
                              <h5 style="">Tu oferta = <b><%= presupuesto.demo_quitar_inodoro %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                            </li>
                            <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                              <% if @task.importe != nil %>
                              <h5 style="">Importe = <b><%= @importe_presupuesto_demo_quitar_inodoro = (@habitacion_presupuesto.demo_quitar_inodoro * presupuesto.demo_quitar_inodoro ) %> €</b></h5>
                              <% end %>
                            </li>
                            <% if @task.mat_aportar != nil %>
                              <li class="mat_aportar" style="color: grey;">
                                  Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                              </li>
                            <% end %>
                            <% if presupuesto.demo_quitar_inodoro_comment != nil %>
                            <li class="comments_presupuesto">
                              <%= presupuesto.demo_quitar_inodoro_comment %>
                            </li>
                            <% end %>
                          </ul>
                        </li>
                        <% end %>  

                        <% if  presupuesto.demo_quitar_bidet != nil %>
                        <li>
                            <ul class="elemento">
                                <% @task = Task.find_by(task: 'demo_quitar_bidet') %>
                              
                              <li>
                                <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                              </li>
                              <li>
                                <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                              </li>
                              <% if @habitacion_presupuesto.demo_quitar_bidet != nil %>
                              <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.demo_quitar_bidet if @habitacion_presupuesto.demo_quitar_bidet %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                              <li class="field">
                                <h5 style="">Tu oferta = <b><%= presupuesto.demo_quitar_bidet %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                              </li>
                              <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                <% if @task.importe != nil %>
                                <h5 style="">Importe = <b><%= @importe_presupuesto_demo_quitar_bidet = (@habitacion_presupuesto.demo_quitar_bidet * presupuesto.demo_quitar_bidet ) %> €</b></h5>
                                <% end %>
                              </li>
                              <% if @task.mat_aportar != nil %>
                                <li class="mat_aportar" style="color: grey;">
                                    Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                </li>
                              <% end %>
                              <% if presupuesto.demo_quitar_bidet_comment != nil %>
                              <li class="comments_presupuesto">
                                <%= presupuesto.demo_quitar_bidet_comment %>
                              </li>
                              <% end %>
                            </ul>
                        </li>
                        <% end %> 

                        <% if  presupuesto.demo_quitar_plato_ducha != nil %>
                        <li>
                            <ul class="elemento">
                                <% @task = Task.find_by(task: 'demo_quitar_plato_ducha') %>
                              
                              <li>
                                <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                              </li>
                              <li>
                                <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                              </li>
                              <% if @habitacion_presupuesto.demo_quitar_plato_ducha != nil %>
                              <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.demo_quitar_plato_ducha if @habitacion_presupuesto.demo_quitar_plato_ducha %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                              <li class="field">
                                <h5 style="">Tu oferta = <b><%= presupuesto.demo_quitar_plato_ducha %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                              </li>
                              <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                <% if @task.importe != nil %>
                                <h5 style="">Importe = <b><%= @importe_presupuesto_demo_quitar_plato_ducha = (@habitacion_presupuesto.demo_quitar_plato_ducha * presupuesto.demo_quitar_plato_ducha ) %> €</b></h5>
                                <% end %>
                              </li>
                              <% if @task.mat_aportar != nil %>
                                <li class="mat_aportar" style="color: grey;">
                                    Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                </li>
                              <% end %>
                              <% if presupuesto.demo_quitar_plato_ducha_comment != nil %>
                              <li class="comments_presupuesto">
                                <%= presupuesto.demo_quitar_plato_ducha_comment %>
                              </li>
                              <% end %>
                            </ul>
                        </li>
                        <% end %>  

                        <% if  presupuesto.demo_quitar_mampara != nil %>
                        <li>
                            <ul class="elemento">
                                <% @task = Task.find_by(task: 'demo_quitar_mampara') %>
                              
                              <li>
                                <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                              </li>
                              <li>
                                <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                              </li>
                              <% if @habitacion_presupuesto.demo_quitar_mampara != nil %>
                              <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.demo_quitar_mampara if @habitacion_presupuesto.demo_quitar_mampara %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                              <li class="field">
                                <h5 style="">Tu oferta = <b><%= presupuesto.demo_quitar_mampara %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                              </li>
                              <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                <% if @task.importe != nil %>
                                <h5 style="">Importe = <b><%= @importe_presupuesto_demo_quitar_mampara = (@habitacion_presupuesto.demo_quitar_mampara * presupuesto.demo_quitar_mampara ) %> €</b></h5>
                                <% end %>
                              </li>
                              <% if @task.mat_aportar != nil %>
                                <li class="mat_aportar" style="color: grey;">
                                    Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                </li>
                              <% end %>
                              <% if presupuesto.demo_quitar_mampara_comment != nil %>
                              <li class="comments_presupuesto">
                                <%= presupuesto.demo_quitar_mampara_comment %>
                              </li>
                              <% end %>
                            </ul>
                        </li>
                        <% end %> 

                        <% if  presupuesto.demo_quitar_mueble_bano != nil %>
                        <li>
                            <ul class="elemento">
                                <% @task = Task.find_by(task: 'demo_quitar_mueble_bano') %>
                              
                              <li>
                                <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                              </li>
                              <li>
                                <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                              </li>
                              <% if @habitacion_presupuesto.demo_quitar_mueble_bano != nil %>
                              <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.demo_quitar_mueble_bano if @habitacion_presupuesto.demo_quitar_mueble_bano %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                              <li class="field">
                                <h5 style="">Tu oferta = <b><%= presupuesto.demo_quitar_mueble_bano %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                              </li>
                              <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                <% if @task.importe != nil %>
                                <h5 style="">Importe = <b><%= @importe_presupuesto_demo_quitar_mueble_bano = (@habitacion_presupuesto.demo_quitar_mueble_bano * presupuesto.demo_quitar_mueble_bano ) %> €</b></h5>
                                <% end %>
                              </li>
                              <% if @task.mat_aportar != nil %>
                                <li class="mat_aportar" style="color: grey;">
                                    Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                </li>
                              <% end %>
                              <% if presupuesto.demo_quitar_mueble_bano_comment != nil %>
                              <li class="comments_presupuesto">
                                <%= presupuesto.demo_quitar_mueble_bano_comment %>
                              </li>
                              <% end %>
                            </ul>
                        </li>
                        <% end %> 

                        <% if  presupuesto.demo_quitar_banera != nil %>
                        <li>
                            <ul class="elemento">
                                <% @task = Task.find_by(task: 'demo_quitar_banera') %>
                              
                              <li>
                                <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                              </li>
                              <li>
                                <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                              </li>
                              <% if @habitacion_presupuesto.demo_quitar_banera != nil %>
                              <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.demo_quitar_banera if @habitacion_presupuesto.demo_quitar_banera %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                              <li class="field">
                                <h5 style="">Tu oferta = <b><%= presupuesto.demo_quitar_banera %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                              </li>
                              <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                <% if @task.importe != nil %>
                                <h5 style="">Importe = <b><%= @importe_presupuesto_demo_quitar_banera = (@habitacion_presupuesto.demo_quitar_banera * presupuesto.demo_quitar_banera ) %> €</b></h5>
                                <% end %>
                              </li>
                              <% if @task.mat_aportar != nil %>
                                <li class="mat_aportar" style="color: grey;">
                                    Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                </li>
                              <% end %>
                              <% if presupuesto.demo_quitar_banera_comment != nil %>
                              <li class="comments_presupuesto">
                                <%= presupuesto.demo_quitar_banera_comment %>
                              </li>
                              <% end %>
                            </ul>
                        </li>
                        <% end %>

                      </ul>
                    <% end %>

                    <% if  presupuesto.demo_quitar_mobi_cocina != nil or presupuesto.demo_retir_electrodomesticos != nil %> 
                      <div class="titulo">
                        <h3 style="">Retirar elementos cocina</h3>
                      </div>
                      <ul class="lista_principal" style="">

                          <% if  presupuesto.demo_quitar_mobi_cocina != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'demo_quitar_mobi_cocina') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.demo_quitar_mobi_cocina != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.demo_quitar_mobi_cocina if @habitacion_presupuesto.demo_quitar_mobi_cocina %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.demo_quitar_mobi_cocina %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_demo_quitar_mobi_cocina = (@habitacion_presupuesto.demo_quitar_azulej * presupuesto.demo_quitar_azulejo) %> €</b></h5>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.demo_retir_electrodomesticos_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.demo_retir_electrodomesticos_comment %>
                                </li>
                                <% end %>                                
                              </ul>
                          </li>
                          <% end %> 

                          <% if  presupuesto.demo_retir_electrodomesticos != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'demo_retir_electrodomesticos') %>

                                <li>
                                  <% end %>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                  <% if @habitacion_presupuesto.demo_retir_electrodomesticos != nil %>
                                </li>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.demo_retir_electrodomesticos if @habitacion_presupuesto.demo_retir_electrodomesticos %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.demo_retir_electrodomesticos %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_demo_retir_electrodomesticos = (@habitacion_presupuesto.demo_retir_electrodomesticos * presupuesto.demo_retir_electrodomesticos ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.demo_retir_electrodomesticos_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.demo_retir_electrodomesticos_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>
                      </ul>
                     <% end %>

                    <% if  presupuesto.demo_friso_madera != nil or presupuesto.demo_quitar_mueble != nil %>
                      <div class="titulo">
                        <h3 style="">Retirar elementos salón</h3>
                      </div>
                      <ul class="lista_principal" style="">

                          <% if  presupuesto.demo_friso_madera != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'demo_friso_madera') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.demo_friso_madera != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.demo_friso_madera if @habitacion_presupuesto.demo_friso_madera %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.demo_friso_madera %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_demo_friso_madera = (@habitacion_presupuesto.demo_friso_madera * presupuesto.demo_friso_madera ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.demo_friso_madera_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.demo_friso_madera_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>  

                          <% if  presupuesto.demo_quitar_mueble != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'demo_quitar_mueble') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.demo_quitar_mueble != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.demo_quitar_mueble if @habitacion_presupuesto.demo_quitar_mueble %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.demo_quitar_mueble %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_demo_quitar_mueble = (@habitacion_presupuesto.demo_quitar_mueble * presupuesto.demo_quitar_mueble ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.demo_quitar_mueble_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.demo_quitar_mueble_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>
                      </ul>
                    <% end %>

                    <% if  presupuesto.tub_termo_electrico != nil or presupuesto.tub_radiador != nil %>
                      <div class="titulo">
                        <h3 style="">Instalación tuberías</h3>
                      </div>
                      <ul class="lista_principal" style=""> 

                          <% if  presupuesto.tub_termo_electrico != nil %>     
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_termo_electrico') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.tub_termo_electrico != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.tub_termo_electrico if @habitacion_presupuesto.tub_termo_electrico %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.tub_termo_electrico %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_tub_termo_electrico = (@habitacion_presupuesto.tub_termo_electrico * presupuesto.tub_termo_electrico ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.tub_termo_electrico_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.tub_termo_electrico_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %> 

                          <% if  presupuesto.tub_radiador != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_radiador') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.tub_radiador != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.tub_radiador if @habitacion_presupuesto.tub_radiador %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.tub_radiador %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_tub_radiador = (@habitacion_presupuesto.tub_radiador * presupuesto.tub_radiador ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.tub_radiador_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.tub_radiador_comment %>
                                </li>
                                <% end %>
                              </ul>
                              
                          </li>
                          <% end %>
                      </ul>
                    <% end %>

                    <% if  presupuesto.tub_lavabo != nil or presupuesto.tub_ducha_banera != nil or presupuesto.tub_bidet != nil or presupuesto.tub_inodoro != nil or presupuesto.tub_colum_hidromasaje != nil or presupuesto.tub_lavabo_doble != nil or presupuesto.tub_jacuzzy != nil or presupuesto.tub_sauna != nil or presupuesto.tub_ducha_empotrada != nil or presupuesto.tub_toallero != nil or presupuesto.tub_reubicar_contador != nil or presupuesto.tub_lavadora != nil or presupuesto.tub_caldera != nil %>
                      <div class="titulo">
                        <h3 style="">Instalación tuberías baño</h3>
                      </div>
                      <ul class="lista_principal" style="">      
                          
                          <% if  presupuesto.tub_lavabo != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_lavabo') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.tub_lavabo != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.tub_lavabo if @habitacion_presupuesto.tub_lavabo %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.tub_lavabo %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_tub_lavabo = (@habitacion_presupuesto.tub_lavabo * presupuesto.tub_lavabo ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.tub_lavabo_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.tub_lavabo_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>

                          <% if  presupuesto.tub_ducha_banera != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_ducha_banera') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.tub_ducha_banera != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.tub_ducha_banera if @habitacion_presupuesto.tub_ducha_banera %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.tub_ducha_banera %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_tub_ducha_banera = (@habitacion_presupuesto.tub_ducha_banera * presupuesto.tub_ducha_banera ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.tub_ducha_banera_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.tub_ducha_banera_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %> 

                          <% if  presupuesto.tub_bidet != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_bidet') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.tub_bidet != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.tub_bidet if @habitacion_presupuesto.tub_bidet %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.tub_bidet %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_tub_bidet = (@habitacion_presupuesto.tub_bidet * presupuesto.tub_bidet ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.tub_bidet_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.tub_bidet_comment%>
                                </li>
                                <% end %>  
                              </ul>
                              
                          </li>
                          <% end %> 

                          <% if  presupuesto.tub_inodoro != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_inodoro') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.tub_inodoro != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.tub_inodoro if @habitacion_presupuesto.tub_inodoro %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.tub_inodoro %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_tub_inodoro = (@habitacion_presupuesto.tub_inodoro * presupuesto.tub_inodoro ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.tub_inodoro_comment != nil %>
                                <li class="comments_presupuesto">  
                                  <%= presupuesto.tub_inodoro_comment %>
                                </li>
                                <% end %>
                              </ul>
                              
                          </li>
                          <% end %>

                          <% if  presupuesto.tub_colum_hidromasaje != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_colum_hidromasaje') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.tub_colum_hidromasaje != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.tub_colum_hidromasaje if @habitacion_presupuesto.tub_colum_hidromasaje %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.tub_colum_hidromasaje %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_tub_colum_hidromasaje = (@habitacion_presupuesto.tub_colum_hidromasaje * presupuesto.tub_colum_hidromasaje ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.tub_colum_hidromasaje_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.tub_colum_hidromasaje_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %> 

                          <% if  presupuesto.tub_lavabo_doble != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_lavabo_doble') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.tub_lavabo_doble != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.tub_lavabo_doble if @habitacion_presupuesto.tub_lavabo_doble %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.tub_lavabo_doble %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_tub_lavabo_doble = (@habitacion_presupuesto.tub_lavabo_doble * presupuesto.tub_lavabo_doble ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.tub_lavabo_doble_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.tub_lavabo_doble_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %> 

                          <% if  presupuesto.tub_jacuzzy != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_jacuzzy') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.tub_jacuzzy != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.tub_jacuzzy if @habitacion_presupuesto.tub_jacuzzy %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.tub_jacuzzy %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_tub_jacuzzy = (@habitacion_presupuesto.tub_jacuzzy * presupuesto.tub_jacuzzy ) %> €</b></h5>
                                  <% end %>
                                 </li>
                                 <% if @task.mat_aportar != nil %>
                                   <l class="mat_aportar"i>
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                   </li>
                                 <% end %>
                                 <% if presupuesto.tub_jacuzzy_comment != nil %>
                                 <li class="comments_presupuesto">   
                                  <%= presupuesto.tub_jacuzzy_comment  %>
                                </li>
                                <% end %>
                              </ul>
                              
                          </li>
                          <% end %>  

                          <% if  presupuesto.tub_sauna != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_sauna') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.tub_sauna != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.tub_sauna if @habitacion_presupuesto.tub_sauna %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.tub_sauna %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_tub_sauna = (@habitacion_presupuesto.tub_sauna * presupuesto.tub_sauna ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.tub_sauna_comment != nil %>
                                <li class="comments_presupuesto">  
                                  <%= presupuesto.tub_sauna_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %> 

                          <% if  presupuesto.tub_ducha_empotrada != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_ducha_empotrada') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.tub_ducha_empotrada != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.tub_ducha_empotrada if @habitacion_presupuesto.tub_ducha_empotrada %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.tub_ducha_empotrada %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_tub_ducha_empotrada = (@habitacion_presupuesto.tub_ducha_empotrada * presupuesto.tub_ducha_empotrada ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.tub_ducha_empotrada_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.tub_ducha_empotrada_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>

                          <% if  presupuesto.tub_toallero != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_toallero') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.tub_toallero != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.tub_toallero if @habitacion_presupuesto.tub_toallero %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.tub_toallero %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_tub_toallero = (@habitacion_presupuesto.tub_toallero * presupuesto.tub_toallero ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.tub_toallero_comment != nil %>
                                <li class="comments_presupuesto">  
                                  <%= presupuesto.tub_toallero_comment %>
                                </li>
                                <% end %>
                              </ul>
                              
                          </li>
                          <% end %>  

                          <% if  presupuesto.tub_reubicar_contador != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_reubicar_contador') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.tub_reubicar_contador != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.tub_reubicar_contador if @habitacion_presupuesto.tub_reubicar_contador %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.tub_reubicar_contador %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_tub_reubicar_contador = (@habitacion_presupuesto.tub_reubicar_contador * presupuesto.tub_reubicar_contador ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.tub_reubicar_contador_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.tub_reubicar_contador_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>

                          <% if  presupuesto.tub_lavadora != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_lavadora') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.tub_lavadora != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.tub_lavadora if @habitacion_presupuesto.tub_lavadora %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.tub_lavadora %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_tub_lavadora = (@habitacion_presupuesto.tub_lavadora * presupuesto.tub_lavadora ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.tub_lavadora_comment != nil %>
                                <li class="comments_presupuesto">  
                                  <%= presupuesto.tub_lavadora_comment %>
                                </li>
                                <% end %>
                              </ul>
                              
                          </li>
                          <% end %>  

                          <% if  presupuesto.tub_reubicar_inodoro != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_reubicar_inodoro') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.tub_reubicar_inodoro != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.tub_reubicar_inodoro if @habitacion_presupuesto.tub_reubicar_inodoro %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.tub_reubicar_inodoro %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_tub_reubicar_inodoro = (@habitacion_presupuesto.tub_reubicar_inodoro * presupuesto.tub_reubicar_inodoro ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.tub_reubicar_inodoro_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.tub_reubicar_inodoro_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>

                          <% if  presupuesto.tub_tipo != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_tipo') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.tub_tipo != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.tub_tipo if @habitacion_presupuesto.tub_tipo %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.tub_tipo %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_tub_tipo = (@habitacion_presupuesto.tub_tipo * presupuesto.tub_tipo ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.tub_tipo_comment != nil %>
                                <li class="comments_presupuesto">  
                                  <%= presupuesto.tub_tipo_comment %>
                                </li>
                                <% end %>
                              </ul>
                              
                          </li>
                          <% end %> 

                          <% if  presupuesto.tub_caldera != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_caldera') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.tub_caldera != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.tub_caldera if @habitacion_presupuesto.tub_caldera %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.tub_caldera %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_tub_caldera = (@habitacion_presupuesto.tub_caldera * presupuesto.tub_caldera ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.tub_caldera_comment != nil %>
                                <li class="comments_presupuesto">  
                                  <%= presupuesto.tub_caldera_comment %>
                                </li>
                                <% end %>
                              </ul>
                              
                          </li>
                          <% end %>
                      </ul>
                    <% end %>          

                    <% if  presupuesto.tub_fregadero != nil or presupuesto.tub_lavavajillas != nil or presupuesto.tub_secadora != nil %>
                      <div class="titulo">
                        <h3 style="">Instalación tuberías cocina</h3>
                      </div>
                      <ul class="lista_principal" style=" ">

                          <% if  presupuesto.tub_fregadero != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_fregadero') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.tub_fregadero != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.tub_fregadero if @habitacion_presupuesto.tub_fregadero %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.tub_fregadero %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_tub_fregadero = (@habitacion_presupuesto.tub_fregadero * presupuesto.tub_fregadero ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.tub_fregadero_comment != nil %>
                                <li class="comments_presupuesto">  
                                  <%= presupuesto.tub_fregadero_comment %>
                                </li>
                                <% end %>
                              </ul>
                              
                          </li>
                          <% end %>


                          <% if  presupuesto.tub_lavavajillas != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_lavavajillas') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.tub_lavavajillas != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.tub_lavavajillas if @habitacion_presupuesto.tub_lavavajillas %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.tub_lavavajillas %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_tub_lavavajillas = (@habitacion_presupuesto.tub_lavavajillas * presupuesto.tub_lavavajillas ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.tub_lavavajillas_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.tub_lavavajillas_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  presupuesto.tub_secadora != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'tub_secadora') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.tub_secadora != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.tub_secadora if @habitacion_presupuesto.tub_secadora %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.tub_secadora %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_tub_secadora = (@habitacion_presupuesto.tub_secadora * presupuesto.tub_secadora ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.tub_secadora_comment != nil %>
                                <li class="comments_presupuesto">  
                                  <%= presupuesto.tub_secadora_comment %>
                                </li>
                                <% end %>
                              </ul>
                              
                          </li>
                          <% end %>
                      </ul>
                    <% end %>

                    <% if  presupuesto.elec_pto_luz_techo != nil or
                      presupuesto.elec_pto_luz_pared != nil or
                      presupuesto.elec_interr_simple != nil  or
                      presupuesto.elec_interr_doble != nil or
                      presupuesto.elec_interr_triple != nil or
                      presupuesto.elec_enchu_simple != nil or
                      presupuesto.elec_enchu_doble != nil or
                      presupuesto.elec_enchu_triple != nil or
                      presupuesto.elec_reubicar_caja_luz != nil or
                      presupuesto.elec_toma_lavadora != nil or
                      presupuesto.elec_toma_ventilador_extractor != nil or
                      presupuesto.elec_toma_horno_vitroceramica != nil or
                      presupuesto.elec_toma_microondas != nil or
                      presupuesto.elec_toma_frigorifico != nil or
                      presupuesto.elec_toma_lavavajillas != nil or
                      presupuesto.elec_toma_secadora != nil or
                      presupuesto.elec_toma_telefono != nil %>
                      <div class="titulo">
                        <h3 style="">Instalación eléctrica</h3>
                      </div>
                      <ul class="lista_principal" style="">      

                          <% if  presupuesto.elec_pto_luz_techo != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'elec_pto_luz_techo') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.elec_pto_luz_techo != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.elec_pto_luz_techo if @habitacion_presupuesto.elec_pto_luz_techo %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.elec_pto_luz_techo %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_elec_pto_luz_techo = (@habitacion_presupuesto.elec_pto_luz_techo * presupuesto.elec_pto_luz_techo ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.elec_pto_luz_techo_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.elec_pto_luz_techo_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %> 

                          <% if  presupuesto.elec_pto_luz_pared != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'elec_pto_luz_pared') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.elec_pto_luz_pared != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.elec_pto_luz_pared if @habitacion_presupuesto.elec_pto_luz_pared %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.elec_pto_luz_pared %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_elec_pto_luz_pared = (@habitacion_presupuesto.elec_pto_luz_pared * presupuesto.elec_pto_luz_pared ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.elec_pto_luz_pared_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.elec_pto_luz_pared_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>

                          <% if  presupuesto.elec_interr_simple != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'elec_interr_simple') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.elec_interr_simple != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.elec_interr_simple if @habitacion_presupuesto.elec_interr_simple %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.elec_interr_simple %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_elec_interr_simple = (@habitacion_presupuesto.elec_interr_simple * presupuesto.elec_interr_simple ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.elec_interr_simple_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.elec_interr_simple_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>

                          <% if  presupuesto.elec_interr_doble != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'elec_interr_doble') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.elec_interr_doble != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.elec_interr_doble if @habitacion_presupuesto.elec_interr_doble %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.elec_interr_doble %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_elec_interr_doble = (@habitacion_presupuesto.elec_interr_doble * presupuesto.elec_interr_doble ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.elec_interr_doble_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.elec_interr_doble_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>

                          <% if  presupuesto.elec_interr_triple != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'elec_interr_triple') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.elec_interr_triple != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.elec_interr_triple if @habitacion_presupuesto.elec_interr_triple %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.elec_interr_triple %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_elec_interr_triple = (@habitacion_presupuesto.elec_interr_triple * presupuesto.elec_interr_triple ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.elec_interr_triple_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.elec_interr_triple_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>

                          <% if  presupuesto.elec_enchu_simple != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'elec_enchu_simple') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.elec_enchu_simple != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.elec_enchu_simple if @habitacion_presupuesto.elec_enchu_simple %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.elec_enchu_simple %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_elec_enchu_simple = (@habitacion_presupuesto.elec_enchu_simple * presupuesto.elec_enchu_simple ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.elec_enchu_simple_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.elec_enchu_simple_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>

                          <% if  presupuesto.elec_enchu_doble != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'elec_enchu_doble') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.elec_enchu_doble != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.elec_enchu_doble if @habitacion_presupuesto.elec_enchu_doble %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.elec_enchu_doble %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_elec_enchu_doble = (@habitacion_presupuesto.elec_enchu_doble * presupuesto.elec_enchu_doble ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.elec_enchu_doble_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.elec_enchu_doble_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>

                          <% if  presupuesto.elec_enchu_triple != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'elec_enchu_triple') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.elec_enchu_triple != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.elec_enchu_triple if @habitacion_presupuesto.elec_enchu_triple %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.elec_enchu_triple %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_elec_enchu_triple = (@habitacion_presupuesto.elec_enchu_triple * presupuesto.elec_enchu_triple ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.elec_enchu_triple_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.elec_enchu_triple_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>

                          <% if  presupuesto.elec_reubicar_caja_luz != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'elec_reubicar_caja_luz') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.elec_reubicar_caja_luz != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.elec_reubicar_caja_luz if @habitacion_presupuesto.elec_reubicar_caja_luz %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.elec_reubicar_caja_luz %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_elec_reubicar_caja_luz = (@habitacion_presupuesto.elec_reubicar_caja_luz * presupuesto.elec_reubicar_caja_luz ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.elec_reubicar_caja_luz_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.elec_reubicar_caja_luz_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %> 

                          <% if  presupuesto.elec_toma_lavadora != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'elec_toma_lavadora') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.elec_toma_lavadora != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.elec_toma_lavadora if @habitacion_presupuesto.elec_toma_lavadora %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.elec_toma_lavadora %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_elec_toma_lavadora = (@habitacion_presupuesto.elec_toma_lavadora * presupuesto.elec_toma_lavadora ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.elec_toma_lavadora_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.elec_toma_lavadora_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>

                          <% if  presupuesto.elec_toma_ventilador_extractor != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'elec_toma_ventilador_extractor') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.elec_toma_ventilador_extractor != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.elec_toma_ventilador_extractor if @habitacion_presupuesto.elec_toma_ventilador_extractor %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.elec_toma_ventilador_extractor %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_elec_toma_ventilador_extractor = (@habitacion_presupuesto.elec_toma_ventilador_extra * presupuesto.elec_toma_ventilador_extractor) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.elec_toma_ventilador_extractor_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.elec_toma_ventilador_extractor_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>

                          <% if  presupuesto.elec_toma_horno_vitroceramica != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'elec_toma_horno_vitroceramica') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.elec_toma_horno_vitroceramica != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.elec_toma_horno_vitroceramica if @habitacion_presupuesto.elec_toma_horno_vitroceramica %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.elec_toma_horno_vitroceramica %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_elec_toma_horno_vitroceramica = (@habitacion_presupuesto.elec_toma_horno_vitroceramic * presupuesto.elec_toma_horno_vitroceramica) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.elec_toma_horno_vitroceramica_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.elec_toma_horno_vitroceramica_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>  

                          <% if  presupuesto.elec_toma_microondas != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'elec_toma_microondas') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.elec_toma_microondas != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.elec_toma_microondas if @habitacion_presupuesto.elec_toma_microondas %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.elec_toma_microondas %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_elec_toma_microondas = (@habitacion_presupuesto.elec_toma_microondas * presupuesto.elec_toma_microondas ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.elec_toma_microondas_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.elec_toma_microondas_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>  

                          <% if  presupuesto.elec_toma_frigorifico != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'elec_toma_frigorifico') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.elec_toma_frigorifico != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.elec_toma_frigorifico if @habitacion_presupuesto.elec_toma_frigorifico %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.elec_toma_frigorifico %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_elec_toma_frigorifico = (@habitacion_presupuesto.elec_toma_frigorifico * presupuesto.elec_toma_frigorifico ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.elec_toma_frigorifico_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.elec_toma_frigorifico_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>  

                          <% if  presupuesto.elec_toma_lavavajillas != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'elec_toma_lavavajillas') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.elec_toma_lavavajillas != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.elec_toma_lavavajillas if @habitacion_presupuesto.elec_toma_lavavajillas %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.elec_toma_lavavajillas %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_elec_toma_lavavajillas = (@habitacion_presupuesto.elec_toma_lavavajillas * presupuesto.elec_toma_lavavajillas ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.elec_toma_lavavajillas_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.elec_toma_lavavajillas_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>

                          <% if  presupuesto.elec_toma_secadora != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'elec_toma_secadora') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.elec_toma_secadora != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.elec_toma_secadora if @habitacion_presupuesto.elec_toma_secadora %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.elec_toma_secadora %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_elec_toma_secadora = (@habitacion_presupuesto.elec_toma_secadora * presupuesto.elec_toma_secadora ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.elec_toma_secadora_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.elec_toma_secadora_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>

                          <% if  presupuesto.elec_toma_telefono != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'elec_toma_telefono') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.elec_toma_telefono != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.elec_toma_telefono if @habitacion_presupuesto.elec_toma_telefono %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.elec_toma_telefono %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_elec_toma_telefono = (@habitacion_presupuesto.elec_toma_telefono * presupuesto.elec_toma_telefono ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.elec_toma_telefono_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.elec_toma_telefono_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>
                      </ul>
                    <% end %>

                    <% if  presupuesto.alb_azulejo != nil or
                      presupuesto.alb_tipo_azulejo != nil or
                      presupuesto.alb_baldosa != nil or
                      presupuesto.alb_tipo_baldosa != nil or
                      presupuesto.alb_techo_pladur != nil or
                      presupuesto.alb_tabique_ladriyeso != nil or
                      presupuesto.alb_tabique_pladur != nil or
                      presupuesto.alb_tabique_fabrica != nil or
                      presupuesto.alb_tabique_paves != nil or
                      presupuesto.alb_nivelacion_pared != nil %>
                      <div class="titulo">
                        <h3 style="">Albañilería</h3>
                      </div>
                      <ul class="lista_principal" style="">     

                          <% if  presupuesto.alb_azulejo != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'alb_azulejo') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.alb_azulejo != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.alb_azulejo if @habitacion_presupuesto.alb_azulejo %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.alb_azulejo %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_alb_azulejo = (@habitacion_presupuesto.alb_azulejo * presupuesto.alb_azulejo ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.alb_azulejo_comment != nil %>
                                <li class="comments_presupuesto">  
                                  <%= presupuesto.alb_azulejo_comment %>
                                </li>
                                <% end %>
                              </ul>
                              
                          </li>
                          <% end %>

                          <% if  presupuesto.alb_tipo_azulejo != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'alb_tipo_azulejo') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.alb_tipo_azulejo != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.alb_tipo_azulejo if @habitacion_presupuesto.alb_tipo_azulejo %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.alb_tipo_azulejo %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_alb_tipo_azulejo = (@habitacion_presupuesto.alb_tipo_azulejo * presupuesto.alb_tipo_azulejo ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.alb_tipo_azulejo_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.alb_tipo_azulejo_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li> 
                          <% end %>

                          <% if  presupuesto.alb_baldosa != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'alb_baldosa') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.alb_baldosa != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.alb_baldosa if @habitacion_presupuesto.alb_baldosa %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.alb_baldosa %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_alb_baldosa = (@habitacion_presupuesto.alb_baldosa  * presupuesto.alb_baldosa  ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.alb_baldosa_comment != nil %>
                                <li class="comments_presupuesto">  
                                  <%= presupuesto.alb_baldosa_comment %>
                                </li>
                                <% end %>
                              </ul>
                              
                          </li>
                          <% end %>


                          <% if  presupuesto.alb_tipo_baldosa != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'alb_tipo_baldosa') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.alb_tipo_baldosa != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.alb_tipo_baldosa if @habitacion_presupuesto.alb_tipo_baldosa %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.alb_tipo_baldosa %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_alb_tipo_baldosa = (@habitacion_presupuesto.alb_tipo_baldosa * presupuesto.alb_tipo_baldosa ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.alb_tipo_baldosa_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.alb_tipo_baldosa_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %> 

                          <% if  presupuesto.alb_techo_pladur != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'alb_techo_pladur') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.alb_techo_pladur != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.alb_techo_pladur if @habitacion_presupuesto.alb_techo_pladur %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.alb_techo_pladur %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_alb_techo_pladur = (@habitacion_presupuesto.alb_techo_pladur * presupuesto.alb_techo_pladur ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.alb_techo_pladur_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.alb_techo_pladur_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>  

                          <% if  presupuesto.alb_tabique_ladriyeso != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'alb_tabique_ladriyeso') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.alb_tabique_ladriyeso != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.alb_tabique_ladriyeso if @habitacion_presupuesto.alb_tabique_ladriyeso %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.alb_tabique_ladriyeso %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_alb_tabique_ladriyeso = (@habitacion_presupuesto.alb_tabique_ladriyeso * presupuesto.alb_tabique_ladriyeso ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.alb_tabique_ladriyeso_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.alb_tabique_ladriyeso_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %> 

                          <% if  presupuesto.alb_tabique_pladur != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'alb_tabique_pladur') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.alb_tabique_pladur != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.alb_tabique_pladur if @habitacion_presupuesto.alb_tabique_pladur %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.alb_tabique_pladur %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_alb_tabique_pladur = (@habitacion_presupuesto.alb_tabique_pladur * presupuesto.alb_tabique_pladur ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.alb_tabique_pladur_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.alb_tabique_pladur_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %> 

                          <% if  presupuesto.alb_tabique_fabrica != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'alb_tabique_fabrica') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.alb_tabique_fabrica != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.alb_tabique_fabrica if @habitacion_presupuesto.alb_tabique_fabrica %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.alb_tabique_fabrica %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_alb_tabique_fabrica = (@habitacion_presupuesto.alb_tabique_fabrica * presupuesto.alb_tabique_fabrica ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.alb_tabique_fabrica_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.alb_tabique_fabrica_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>  

                          <% if  presupuesto.alb_tabique_paves != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'alb_tabique_paves') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.alb_tabique_paves != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.alb_tabique_paves if @habitacion_presupuesto.alb_tabique_paves %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.alb_tabique_paves %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_alb_tabique_paves = (@habitacion_presupuesto.alb_tabique_paves * presupuesto.alb_tabique_paves ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.alb_tabique_paves_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.alb_tabique_paves_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  presupuesto.alb_nivelacion_pared != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'alb_nivelacion_pared') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.alb_nivelacion_pared != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.alb_nivelacion_pared if @habitacion_presupuesto.alb_nivelacion_pared %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.alb_nivelacion_pared %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_alb_nivelacion_pared = (@habitacion_presupuesto.alb_nivelacion_pared * presupuesto.alb_nivelacion_pared ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.alb_nivelacion_pared_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.alb_nivelacion_pared_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>
                      </ul>
                    <% end %>

                    <% if  presupuesto.mont_sani_mampara != nil or presupuesto.mont_sani_mueble_bano != nil or
                      presupuesto.mont_sani_banera != nil or
                      presupuesto.mont_sani_plato_ducha != nil or
                      presupuesto.mont_sani_bidet != nil or
                      presupuesto.mont_sani_inodoro_normal != nil or
                      presupuesto.mont_sani_inodoro_suspendido != nil or
                      presupuesto.mont_sani_inodoro_encastrado != nil or
                      presupuesto.mont_sani_grifo_ducha != nil or
                      presupuesto.mont_sani_grifo_banera != nil or
                      presupuesto.mont_sani_acceso_atornillado != nil or
                      presupuesto.mont_sani_colum_hidromasaje != nil or
                      presupuesto.mont_sani_cabina_ducha != nil or
                      presupuesto.mont_sani_plato_ducha_obra != nil or
                      presupuesto.mont_sani_lavabo_pedestal != nil %>
                      <div class="titulo">
                        <h3 style="">Albañlería baño</h3>
                      </div>
                      <ul class="lista_principal" style=" ">

                          <% if  presupuesto.mont_sani_mampara != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_sani_mampara') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.mont_sani_mampara != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.mont_sani_mampara if @habitacion_presupuesto.mont_sani_mampara %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.mont_sani_mampara %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_mont_sani_mampara = (@habitacion_presupuesto.mont_sani_mampara * presupuesto.mont_sani_mampara ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.mont_sani_mampara_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.mont_sani_mampara_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  presupuesto.mont_sani_mueble_bano != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_sani_mueble_bano') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.mont_sani_mueble_bano != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.mont_sani_mueble_bano if @habitacion_presupuesto.mont_sani_mueble_bano %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.mont_sani_mueble_bano %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_mont_sani_mueble_bano = (@habitacion_presupuesto.mont_sani_mueble_bano * presupuesto.mont_sani_mueble_bano ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.mont_sani_mueble_bano_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.mont_sani_mueble_bano_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>  

                          <% if  presupuesto.mont_sani_banera != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_sani_banera') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.mont_sani_banera != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.mont_sani_banera if @habitacion_presupuesto.mont_sani_banera %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.mont_sani_banera %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_mont_sani_banera = (@habitacion_presupuesto.mont_sani_banera * presupuesto.mont_sani_banera ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.mont_sani_banera_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.mont_sani_banera_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  presupuesto.mont_sani_plato_ducha != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_sani_plato_ducha') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.mont_sani_plato_ducha != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.mont_sani_plato_ducha if @habitacion_presupuesto.mont_sani_plato_ducha %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.mont_sani_plato_ducha %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_mont_sani_plato_ducha = (@habitacion_presupuesto.mont_sani_plato_ducha * presupuesto.mont_sani_plato_ducha ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.mont_sani_plato_ducha_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.mont_sani_plato_ducha_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  presupuesto.mont_sani_bidet != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_sani_bidet') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.mont_sani_bidet != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.mont_sani_bidet if @habitacion_presupuesto.mont_sani_bidet %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.mont_sani_bidet %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_mont_sani_bidet = (@habitacion_presupuesto.mont_sani_bidet * presupuesto.mont_sani_bidet ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.mont_sani_bidet_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.mont_sani_bidet_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  presupuesto.mont_sani_inodoro_normal != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_sani_inodoro_normal') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.mont_sani_inodoro_normal != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.mont_sani_inodoro_normal if @habitacion_presupuesto.mont_sani_inodoro_normal %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.mont_sani_inodoro_normal %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_mont_sani_inodoro_normal = (@habitacion_presupuesto.mont_sani_inodoro_normal * presupuesto.mont_sani_inodoro_normal ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.mont_sani_inodoro_normal_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.mont_sani_inodoro_normal_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  presupuesto.mont_sani_inodoro_suspendido != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_sani_inodoro_suspendido') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.mont_sani_inodoro_suspendido != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.mont_sani_inodoro_suspendido if @habitacion_presupuesto.mont_sani_inodoro_suspendido %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.mont_sani_inodoro_suspendido %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_mont_sani_inodoro_suspendido = (@habitacion_presupuesto.mont_sani_inodoro_suspendido * presupuesto.mont_sani_inodoro_suspendido ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.mont_sani_inodoro_suspendido_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.mont_sani_inodoro_suspendido_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  presupuesto.mont_sani_inodoro_encastrado != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_sani_inodoro_encastrado') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.mont_sani_inodoro_encastrado != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.mont_sani_inodoro_encastrado if @habitacion_presupuesto.mont_sani_inodoro_encastrado %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.mont_sani_inodoro_encastrado %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_mont_sani_inodoro_encastrado = (@habitacion_presupuesto.mont_sani_inodoro_encastrado * presupuesto.mont_sani_inodoro_encastrado ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.mont_sani_inodoro_encastrado_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.mont_sani_inodoro_encastrado_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  presupuesto.mont_sani_grifo_ducha != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_sani_grifo_ducha') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.mont_sani_grifo_ducha != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.mont_sani_grifo_ducha if @habitacion_presupuesto.mont_sani_grifo_ducha %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.mont_sani_grifo_ducha %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_mont_sani_grifo_ducha = (@habitacion_presupuesto.mont_sani_grifo_ducha * presupuesto.mont_sani_grifo_ducha ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.mont_sani_grifo_ducha_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.mont_sani_grifo_ducha_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  presupuesto.mont_sani_grifo_banera != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_sani_grifo_banera') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.mont_sani_grifo_banera != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.mont_sani_grifo_banera if @habitacion_presupuesto.mont_sani_grifo_banera %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.mont_sani_grifo_banera %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_mont_sani_grifo_banera = (@habitacion_presupuesto.mont_sani_grifo_banera * presupuesto.mont_sani_grifo_banera ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.mont_sani_grifo_banera_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.mont_sani_grifo_banera_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  presupuesto.mont_sani_acceso_atornillado != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_sani_acceso_atornillado') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.mont_sani_acceso_atornillado != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.mont_sani_acceso_atornillado if @habitacion_presupuesto.mont_sani_acceso_atornillado %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.mont_sani_acceso_atornillado %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_mont_sani_acceso_atornillado = (@habitacion_presupuesto.mont_sani_acceso_atornillado * presupuesto.mont_sani_acceso_atornillado ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.mont_sani_acceso_atornillado_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.mont_sani_acceso_atornillado_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                           <% if  presupuesto.mont_sani_colum_hidromasaje != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_sani_colum_hidromasaje') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.mont_sani_colum_hidromasaje != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.mont_sani_colum_hidromasaje if @habitacion_presupuesto.mont_sani_colum_hidromasaje %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.mont_sani_colum_hidromasaje %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_mont_sani_colum_hidromasaje = (@habitacion_presupuesto.mont_sani_colum_hidromasaje  * presupuesto.mont_sani_colum_hidromasaje ) %>  €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.mont_sani_colum_hidromasaje_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.mont_sani_colum_hidromasaje_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  presupuesto.mont_sani_cabina_ducha != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_sani_cabina_ducha') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.mont_sani_cabina_ducha != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.mont_sani_cabina_ducha if @habitacion_presupuesto.mont_sani_cabina_ducha %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.mont_sani_cabina_ducha %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_mont_sani_cabina_ducha = (@habitacion_presupuesto.mont_sani_cabina_ducha * presupuesto.mont_sani_cabina_ducha ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.mont_sani_cabina_ducha_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.mont_sani_cabina_ducha_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  presupuesto.mont_sani_plato_ducha_obra != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_sani_plato_ducha_obra') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.mont_sani_plato_ducha_obra != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.mont_sani_plato_ducha_obra if @habitacion_presupuesto.mont_sani_plato_ducha_obra %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.mont_sani_plato_ducha_obra %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_mont_sani_plato_ducha_obra = (@habitacion_presupuesto.mont_sani_plato_ducha_obra * presupuesto.mont_sani_plato_ducha_obra ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.mont_sani_plato_ducha_obra_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.mont_sani_plato_ducha_obra_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  presupuesto.mont_sani_lavabo_pedestal != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_sani_lavabo_pedestal') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.mont_sani_lavabo_pedestal != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.mont_sani_lavabo_pedestal if @habitacion_presupuesto.mont_sani_lavabo_pedestal %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.mont_sani_lavabo_pedestal %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_mont_sani_lavabo_pedestal = (@habitacion_presupuesto.mont_sani_lavabo_pedestal * presupuesto.mont_sani_lavabo_pedestal ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.mont_sani_lavabo_pedestal_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.mont_sani_lavabo_pedestal_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>
                      </ul>
                    <% end %>

                    <% if  presupuesto.mont_electro_mueble_alto_cocina != nil or
                      presupuesto.mont_electro_mueble_bajo_cocina != nil or
                      presupuesto.mont_electro_horno_electrico != nil or
                      presupuesto.mont_electro_placa_vitro != nil or
                      presupuesto.mont_electro_placa_electrica != nil or
                      presupuesto.mont_electro_lavadora != nil or
                      presupuesto.mont_electro_frigorifico != nil or
                      presupuesto.mont_electro_lavavajillas != nil or
                      presupuesto.mont_electro_microondas != nil  or
                      presupuesto.mont_electro_secadora != nil or
                      presupuesto.mont_fregadero != nil or
                      presupuesto.mont_grifo_fregadero != nil %>
                      <div class="titulo">
                        <h3 style="">Albañilería Cocina</h3>
                      </div>
                      <ul class="lista_principal" style=" ">

                          <% if  presupuesto.mont_electro_mueble_alto_cocina != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_electro_mueble_alto_cocina') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.mont_electro_mueble_alto_cocina != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.mont_electro_mueble_alto_cocina if @habitacion_presupuesto.mont_electro_mueble_alto_cocina %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.mont_electro_mueble_alto_cocina %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_mont_electro_mueble_alto_cocina = (@habitacion_presupuesto.mont_electro_mueble_alto_c * presupuesto.mont_electro_mueble_alto_cocina ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.mont_electro_mueble_alto_cocina_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.mont_electro_mueble_alto_cocina_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  presupuesto.mont_electro_mueble_bajo_cocina != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_electro_mueble_bajo_cocina') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.mont_electro_mueble_bajo_cocina != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.mont_electro_mueble_bajo_cocina if @habitacion_presupuesto.mont_electro_mueble_bajo_cocina %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.mont_electro_mueble_bajo_cocina %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_mont_electro_mueble_bajo_cocina = (@habitacion_presupuesto.mont_electro_mueble_bajo_c * presupuesto.mont_electro_mueble_bajo_cocina ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.mont_electro_mueble_bajo_cocina_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.mont_electro_mueble_bajo_cocina_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %> 

                          <% if  presupuesto.mont_electro_horno_electrico != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_electro_horno_electrico') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.mont_electro_horno_electrico != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.mont_electro_horno_electrico if @habitacion_presupuesto.mont_electro_horno_electrico %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.mont_electro_horno_electrico %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_mont_electro_horno_electrico = (@habitacion_presupuesto.mont_electro_horno_electrico * presupuesto.mont_electro_horno_electrico ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.mont_electro_horno_electrico_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.mont_electro_horno_electrico_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %> 

                          <% if  presupuesto.mont_electro_placa_vitro != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_electro_placa_vitro') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.mont_electro_placa_vitro != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.mont_electro_placa_vitro if @habitacion_presupuesto.mont_electro_placa_vitro %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.mont_electro_placa_vitro %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_mont_electro_placa_vitro = (@habitacion_presupuesto.mont_electro_placa_vitro * presupuesto.mont_electro_placa_vitro ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.mont_electro_placa_vitro_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.mont_electro_placa_vitro_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                           <% if presupuesto.mont_electro_placa_electrica != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_electro_placa_electrica') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.mont_electro_placa_electrica != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.mont_electro_placa_electrica if @habitacion_presupuesto.mont_electro_placa_electrica %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.mont_electro_placa_electrica %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_mont_electro_placa_electrica = (@habitacion_presupuesto.mont_electro_placa_electrica * presupuesto.mont_electro_placa_electrica ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.mont_electro_placa_electrica_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.mont_electro_placa_electrica_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %> 


                          <% if  presupuesto.mont_electro_lavadora != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_electro_lavadora') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.mont_electro_lavadora != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.mont_electro_lavadora if @habitacion_presupuesto.mont_electro_lavadora %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.mont_electro_lavadora %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_mont_electro_lavadora = (@habitacion_presupuesto.mont_electro_lavadora * presupuesto.mont_electro_lavadora ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.mont_electro_lavadora_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.mont_electro_lavadora_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  presupuesto.mont_electro_frigorifico != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_electro_frigorifico') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.mont_electro_frigorifico != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.mont_electro_frigorifico if @habitacion_presupuesto.mont_electro_frigorifico %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.mont_electro_frigorifico %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_mont_electro_frigorifico = (@habitacion_presupuesto.mont_electro_frigorifico * presupuesto.mont_electro_frigorifico ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.mont_electro_frigorifico_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.mont_electro_frigorifico_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  presupuesto.mont_electro_lavavajillas != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_electro_lavavajillas') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.mont_electro_lavavajillas != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.mont_electro_lavavajillas if @habitacion_presupuesto.mont_electro_lavavajillas %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.mont_electro_lavavajillas %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_mont_electro_lavavajillas = (@habitacion_presupuesto.mont_electro_lavavajillas * presupuesto.mont_electro_lavavajillas ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.mont_electro_lavavajillas_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.mont_electro_lavavajillas_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                           <% if  presupuesto.mont_electro_microondas != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_electro_microondas') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.mont_electro_microondas != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.mont_electro_microondas if @habitacion_presupuesto.mont_electro_microondas %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.mont_electro_microondas %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_mont_electro_microondas = (@habitacion_presupuesto.mont_electro_microondas * presupuesto.mont_electro_microondas ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.mont_electro_microondas_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.mont_electro_microondas_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  presupuesto.mont_electro_secadora != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_electro_secadora') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.mont_electro_secadora != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.mont_electro_secadora if @habitacion_presupuesto.mont_electro_secadora %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.mont_electro_secadora %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_mont_electro_secadora = (@habitacion_presupuesto.mont_electro_secadora * presupuesto.mont_electro_secadora ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.mont_electro_secadora_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.mont_electro_secadora_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  presupuesto.mont_fregadero != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_fregadero') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.mont_fregadero != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.mont_fregadero if @habitacion_presupuesto.mont_fregadero %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.mont_fregadero %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_mont_fregadero = (@habitacion_presupuesto.mont_fregadero * presupuesto.mont_fregadero ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.mont_fregadero_comment != nil %>
                                <li class="comments_presupuesto">  
                                  <%= presupuesto.mont_fregadero_comment %>
                                </li>
                                <% end %>
                              </ul>
                              
                          </li>
                          <% end %>


                          <% if  presupuesto.mont_grifo_fregadero != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'mont_grifo_fregadero') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.mont_grifo_fregadero != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.mont_grifo_fregadero if @habitacion_presupuesto.mont_grifo_fregadero %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.mont_grifo_fregadero %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_mont_grifo_fregadero = (@habitacion_presupuesto.mont_grifo_fregadero * presupuesto.mont_grifo_fregadero ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.mont_grifo_fregadero_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.mont_grifo_fregadero_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>
                      </ul>
                    <% end %>

                    <% if  presupuesto.colo_pmarcha_termo_elect_a != nil or
                    presupuesto.colo_pmarcha_termo_elect_b != nil or
                    presupuesto.colo_pmarcha_termo_elect_c != nil or
                    presupuesto.colo_pmarcha_termo_elect_d != nil or
                    presupuesto.colo_pmarcha_termo_elect_e != nil or
                    presupuesto.colo_pmarcha_termo_elect_f != nil %>
                      <div class="titulo">
                        <h3 style="">Instalación Termos eléctricos</h3>
                      </div>
                      <ul class="lista_principal" style=" ">
                          
                          <% if  presupuesto.colo_pmarcha_termo_elect_a != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'colo_pmarcha_termo_elect_a') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.colo_pmarcha_termo_elect_a != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.colo_pmarcha_termo_elect_a if @habitacion_presupuesto.colo_pmarcha_termo_elect_a %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.colo_pmarcha_termo_elect_a %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_colo_pmarcha_termo_elect_a = (@habitacion_presupuesto.colo_pmarcha_termo_elect_a * presupuesto.colo_pmarcha_termo_elect_a ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.colo_pmarcha_termo_elect_a_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.colo_pmarcha_termo_elect_a_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                           <% if  presupuesto.colo_pmarcha_termo_elect_b != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'colo_pmarcha_termo_elect_b') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.colo_pmarcha_termo_elect_b != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.colo_pmarcha_termo_elect_b if @habitacion_presupuesto.colo_pmarcha_termo_elect_b %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.colo_pmarcha_termo_elect_b %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_colo_pmarcha_termo_elect_b = (@habitacion_presupuesto.colo_pmarcha_termo_elect_b * presupuesto.colo_pmarcha_termo_elect_b ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.colo_pmarcha_termo_elect_b_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.colo_pmarcha_termo_elect_b_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  presupuesto.colo_pmarcha_termo_elect_c != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'colo_pmarcha_termo_elect_c') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.colo_pmarcha_termo_elect_c != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.colo_pmarcha_termo_elect_c if @habitacion_presupuesto.colo_pmarcha_termo_elect_c %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.colo_pmarcha_termo_elect_c %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_colo_pmarcha_termo_elect_c = (@habitacion_presupuesto.colo_pmarcha_termo_elect_c * presupuesto.colo_pmarcha_termo_elect_c ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.colo_pmarcha_termo_elect_c_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.colo_pmarcha_termo_elect_c_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  presupuesto.colo_pmarcha_termo_elect_d != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'colo_pmarcha_termo_elect_d') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.colo_pmarcha_termo_elect_d != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.colo_pmarcha_termo_elect_d if @habitacion_presupuesto.colo_pmarcha_termo_elect_d %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.colo_pmarcha_termo_elect_d %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_colo_pmarcha_termo_elect_d = (@habitacion_presupuesto.colo_pmarcha_termo_elect_d * presupuesto.colo_pmarcha_termo_elect_d ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.colo_pmarcha_termo_elect_d_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.colo_pmarcha_termo_elect_d_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  presupuesto.colo_pmarcha_termo_elect_e != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'colo_pmarcha_termo_elect_e') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.colo_pmarcha_termo_elect_e != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.colo_pmarcha_termo_elect_e if @habitacion_presupuesto.colo_pmarcha_termo_elect_e %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.colo_pmarcha_termo_elect_e %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_colo_pmarcha_termo_elect_e = (@habitacion_presupuesto.colo_pmarcha_termo_elect_e * presupuesto.colo_pmarcha_termo_elect_e ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.colo_pmarcha_termo_elect_e_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.colo_pmarcha_termo_elect_e_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  presupuesto.colo_pmarcha_termo_elect_f != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'colo_pmarcha_termo_elect_f') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.colo_pmarcha_termo_elect_f != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.colo_pmarcha_termo_elect_f if @habitacion_presupuesto.colo_pmarcha_termo_elect_f %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.colo_pmarcha_termo_elect_f %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_colo_pmarcha_termo_elect_f = (@habitacion_presupuesto.colo_pmarcha_termo_elect_f * presupuesto.colo_pmarcha_termo_elect_f ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.colo_pmarcha_termo_elect_f_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.colo_pmarcha_termo_elect_f_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>
                      </ul>
                    <% end %>

                    <% if  presupuesto.colo_pmarcha_calde_atmos != nil or presupuesto.colo_pmarcha_calde_bajo_nox != nil or presupuesto.colo_pmarcha_calde_estanca != nil %>
                      <div class="titulo">
                        <h3 style="">Instalación Calderas</h3>
                      </div>
                      <ul class="lista_principal" style=" ">
                          
                          <% if  presupuesto.colo_pmarcha_calde_atmos != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'colo_pmarcha_calde_atmos') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.colo_pmarcha_calde_atmos != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.colo_pmarcha_calde_atmos if @habitacion_presupuesto.colo_pmarcha_calde_atmos %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.colo_pmarcha_calde_atmos %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_colo_pmarcha_calde_atmos = (@habitacion_presupuesto.colo_pmarcha_calde_atmos * presupuesto.colo_pmarcha_calde_atmos ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.colo_pmarcha_calde_atmos_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.colo_pmarcha_calde_atmos_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                           <% if  presupuesto.colo_pmarcha_calde_bajo_nox != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'colo_pmarcha_calde_bajo_nox') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.colo_pmarcha_calde_bajo_nox != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.colo_pmarcha_calde_bajo_nox if @habitacion_presupuesto.colo_pmarcha_calde_bajo_nox %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.colo_pmarcha_calde_bajo_nox %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_colo_pmarcha_calde_bajo_nox = (@habitacion_presupuesto.colo_pmarcha_calde_bajo_nox * presupuesto.colo_pmarcha_calde_bajo_nox ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.colo_pmarcha_calde_bajo_nox_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.colo_pmarcha_calde_bajo_nox_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                           <% if  presupuesto.colo_pmarcha_calde_estanca != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'colo_pmarcha_calde_estanca') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.colo_pmarcha_calde_estanca != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.colo_pmarcha_calde_estanca if @habitacion_presupuesto.colo_pmarcha_calde_estanca %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.colo_pmarcha_calde_estanca %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_colo_pmarcha_calde_estanca = (@habitacion_presupuesto.colo_pmarcha_calde_estanca * presupuesto.colo_pmarcha_calde_estanca ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.colo_pmarcha_calde_estanca_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.colo_pmarcha_calde_estanca_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>
                      </ul>
                    <% end %>

                    <% if  presupuesto.techo_pintar != nil or presupuesto.techo_tipo_pintura != nil or presupuesto.techo_alisar != nil or presupuesto.techo_reparar_humedad != nil or presupuesto.pared_empapelar != nil or presupuesto.pared_quitar_papel != nil or presupuesto.pared_alisar != nil or presupuesto.pared_pintar != nil or presupuesto.pared_reparar_humedad != nil or presupuesto.carpin_friso != nil %>
                      <div class="titulo">
                        <h3 style="">Pintores</h3>
                      </div>
                      <ul class="lista_principal" style="">
                          

                          <% if  presupuesto.techo_pintar != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'techo_pintar') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.techo_pintar != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.techo_pintar if @habitacion_presupuesto.techo_pintar %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.techo_pintar %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_techo_pintar = (@habitacion_presupuesto.techo_pintar * presupuesto.techo_pintar ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.techo_pintar_comment != nil %>
                                <li class="comments_presupuesto">  
                                  <%= presupuesto.techo_pintar_comment %>
                                </li>
                                <% end %>
                              </ul>
                              
                          </li>
                          <% end %>


                          <% if  presupuesto.techo_tipo_pintura != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'techo_tipo_pintura') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.techo_tipo_pintura != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.techo_tipo_pintura if @habitacion_presupuesto.techo_tipo_pintura %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.techo_tipo_pintura %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_techo_tipo_pintura = (@habitacion_presupuesto.techo_tipo_pintura * presupuesto.techo_tipo_pintura ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.techo_tipo_pintura_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.techo_tipo_pintura_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  presupuesto.techo_alisar != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'techo_alisar') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.techo_alisar != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.techo_alisar if @habitacion_presupuesto.techo_alisar %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.techo_alisar %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_techo_alisar = (@habitacion_presupuesto.techo_alisar * presupuesto.techo_alisar ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.techo_alisar_comment != nil %>
                                <li class="comments_presupuesto">  
                                  <%= presupuesto.techo_alisar_comment %>
                                </li>
                                <% end %>
                              </ul>
                              
                          </li>
                          <% end %>


                          <% if  presupuesto.techo_reparar_humedad != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'techo_reparar_humedad') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.techo_reparar_humedad != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.techo_reparar_humedad if @habitacion_presupuesto.techo_reparar_humedad %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.techo_reparar_humedad %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_techo_reparar_humedad = (@habitacion_presupuesto.techo_reparar_humedad * presupuesto.techo_reparar_humedad ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.techo_reparar_humedad_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.techo_reparar_humedad_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  presupuesto.pared_empapelar != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'pared_empapelar') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.pared_empapelar != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.pared_empapelar if @habitacion_presupuesto.pared_empapelar %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.pared_empapelar %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_pared_empapelar = (@habitacion_presupuesto.pared_empapelar * presupuesto.pared_empapelar ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.pared_empapelar_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.pared_empapelar_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  presupuesto.pared_quitar_papel != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'pared_quitar_papel') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.pared_quitar_papel != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.pared_quitar_papel if @habitacion_presupuesto.pared_quitar_papel %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.pared_quitar_papel %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_pared_quitar_papel = (@habitacion_presupuesto.pared_quitar_papel * presupuesto.pared_quitar_papel ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.pared_quitar_papel_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.pared_quitar_papel_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  presupuesto.pared_alisar != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'pared_alisar') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.pared_alisar != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.pared_alisar if @habitacion_presupuesto.pared_alisar %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.pared_alisar %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_pared_alisar = (@habitacion_presupuesto.pared_alisar * presupuesto.pared_alisar ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.pared_alisar_comment != nil %>
                                <li class="comments_presupuesto">  
                                  <%= presupuesto.pared_alisar_comment %>
                                </li>
                                <% end %>
                              </ul>
                              
                          </li>
                          <% end %>


                          <% if  presupuesto.pared_pintar != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'pared_pintar') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.pared_pintar != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.pared_pintar if @habitacion_presupuesto.pared_pintar %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.pared_pintar %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_pared_pintar = (@habitacion_presupuesto.pared_pintar * presupuesto.pared_pintar ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.pared_pintar_comment != nil %>
                                <li class="comments_presupuesto">  
                                  <%= presupuesto.pared_pintar_comment %>
                                </li>
                                <% end %>
                              </ul>
                              
                          </li>
                          <% end %>


                          <% if  presupuesto.pared_reparar_humedad != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'pared_reparar_humedad') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.pared_reparar_humedad != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.pared_reparar_humedad if @habitacion_presupuesto.pared_reparar_humedad %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.pared_reparar_humedad %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_pared_reparar_humedad = (@habitacion_presupuesto.pared_reparar_humedad * presupuesto.pared_reparar_humedad ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.pared_reparar_humedad_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.pared_reparar_humedad_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  presupuesto.carpin_friso != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'carpin_friso') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.carpin_friso != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.carpin_friso if @habitacion_presupuesto.carpin_friso %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.carpin_friso %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_carpin_friso = (@habitacion_presupuesto.carpin_friso * presupuesto.carpin_friso ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.carpin_friso_comment != nil %>
                                <li class="comments_presupuesto">  
                                  <%= presupuesto.carpin_friso_comment %>
                                </li>
                                <% end %>
                              </ul>
                              
                          </li>
                          <% end %>
                      </ul>
                    <% end %>

                    <% if  presupuesto.puerta_colocar != nil or presupuesto.puerta_tipo != nil or presupuesto.puerta_cambio_precerco != nil or presupuesto.ventana_colocar != nil or presupuesto.ventana_tipo != nil or presupuesto.ventana_contraventana != nil %>
                      <div class="titulo">
                        <h3 style="">Puertas y ventanas</h3>
                      </div>
                      <ul class="lista_principal" style="">
                          

                          <% if  presupuesto.puerta_colocar != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'puerta_colocar') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.puerta_colocar != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.puerta_colocar if @habitacion_presupuesto.puerta_colocar %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.puerta_colocar %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_puerta_colocar = (@habitacion_presupuesto.puerta_colocar * presupuesto.puerta_colocar ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.puerta_colocar_comment != nil %>
                                <li class="comments_presupuesto">  
                                  <%= presupuesto.puerta_colocar_comment %>
                                </li>
                                <% end %>
                              </ul>
                              
                          </li>
                          <% end %>

            
                          <% if  presupuesto.puerta_tipo != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'puerta_tipo') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.puerta_tipo != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.puerta_tipo if @habitacion_presupuesto.puerta_tipo %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.puerta_tipo %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_puerta_tipo = (@habitacion_presupuesto.puerta_tipo * presupuesto.puerta_tipo ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.puerta_tipo_comment != nil %>
                                <li class="comments_presupuesto">  
                                  <%= presupuesto.puerta_tipo_comment %>
                                </li>
                                <% end %>
                              </ul>
                              
                          </li>
                          <% end %>


                          <% if  presupuesto.puerta_cambio_precerco != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'puerta_cambio_precerco') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.puerta_cambio_precerco != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.puerta_cambio_precerco if @habitacion_presupuesto.puerta_cambio_precerco %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.puerta_cambio_precerco %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_puerta_cambio_precerco = (@habitacion_presupuesto.puerta_cambio_precerco * presupuesto.puerta_cambio_precerco ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.puerta_cambio_precerco_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.puerta_cambio_precerco_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  presupuesto.ventana_colocar != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'ventana_colocar') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.ventana_colocar != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.ventana_colocar if @habitacion_presupuesto.ventana_colocar %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.ventana_colocar %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_ventana_colocar = (@habitacion_presupuesto.ventana_colocar * presupuesto.ventana_colocar ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.ventana_colocar_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= presupuesto.ventana_colocar_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>


                          <% if  presupuesto.ventana_tipo != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'ventana_tipo') %>
                                
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.ventana_tipo != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.ventana_tipo if @habitacion_presupuesto.ventana_tipo %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.ventana_tipo %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_ventana_tipo = (@habitacion_presupuesto.ventana_tipo * presupuesto.ventana_tipo ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.ventana_tipo_comment != nil %>
                                <li class="comments_presupuesto">  
                                  <%= presupuesto.ventana_tipo_comment %>
                                </li>
                                <% end %>
                              </ul>
                              
                          </li>
                          <% end %>


                          <% if  presupuesto.ventana_contraventana != nil %>
                          <li>
                              <ul class="elemento">
                                  <% @task = Task.find_by(task: 'ventana_contraventana') %>
                                <li>
                                  <h5 style="font-weight: 900; font-size: 16px;"><%= @task.nombre %></h5>
                                </li>
                                <li>
                                  <div class="description"><h5><%= @task.desc_tecnica if @task.desc_tecnica != nil %></h5> </div>
                                </li>
                                <% if @habitacion_presupuesto.ventana_contraventana != nil %>
                                <li class="medicion"><h5>Medición = <b><%= @habitacion_presupuesto.ventana_contraventana if @habitacion_presupuesto.ventana_contraventana %></b> <span style="margin-left: 20px;"><%= @task.um if @task.um != nil %></span></h5></li><% end %>
                                <li class="field">
                                  <h5 style="">Tu oferta = <b><%= presupuesto.ventana_contraventana %> <span style="margin-left: 20px;">(€/<%= @task.um if @task.um != nil %>)</span> </b></h5>
                                </li>
                                <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                                  <% if @task.importe != nil %>
                                  <h5 style="">Importe = <b><%= @importe_presupuesto_ventana_contraventana = (@habitacion_presupuesto.ventana_contraventana * presupuesto.ventana_contraventana ) %> €</b></h5>
                                  <% end %>
                                </li>
                                <% if @task.mat_aportar != nil %>
                                  <li class="mat_aportar" style="color: grey;">
                                      Materiales a aportar por el cliente: <%= @task.mat_aportar %>
                                  </li>
                                <% end %>
                                <% if presupuesto.ventana_contraventana_comment != nil %>
                                <li class="comments_presupuesto">
                                  <%= ventana_contraventana_comment %>
                                </li>
                                <% end %>
                              </ul>
                          </li>
                          <% end %>
                      </ul>
                    <% end %>
              </div>
            <% else %>
              <div class="titulo">
                <h3 style="">Partida personalizada</h3>
              </div>
                <ul class="lista_principal" style="">
                  <li class="lista_elemento" style=" ">
                    <ul class="elemento" id="quitar_azulejo" style="">
                        <% @partida = Partida.find_by(id: presupuesto.partida_id) %>
                      <li>
                        <h5 style="font-weight: 900; font-size: 16px;"><%= @partida.titulo %></h5>
                      </li>
                      <li>
                        <div class="description"><h5><%= @partida.description if @partida.description != nil %></h5> </div>
                      </li>
                      <li>
                        <%= @partida.comentario %>
                      </li>
                      <li class="importe" style="padding-top: 20px; padding-bottom: 20px;">
                        <h5 style="">Tu oferta = <b><%= presupuesto.partida_importe %> <span style="margin-left: 60px;">(€)</span> </b></h5>
                      </li>
                      <% if presupuesto.demo_quitar_azulejo_comment != nil %>
                      <li class="comments_presupuesto">                          
                        <%= presupuesto.partida_comentario %>
                      </li>
                      <% end %>
                    </ul>
                  </li>
                </ul>
            <% end %>
          <% end %>
        </div>
        <% end %>

        <% if current_user.empresa == true %>
          <div style="margin-top: 50px;">
            <h1>Coste de la reforma = <%= @budgets = Budget.where(reform_id: params[:id], user_id: current_user.id).sum('cost') %> €</h1>
          </div>
        <% else %>
          <div style="margin-top: 50px;">
            <h1>Coste para tu proyecto = <%= @budgets = Budget.where(reform_id: params[:id], user_id: @empresa.id).sum('cost') %> €</h1>
          </div>
        <% end %>

        <% @presupuestoes = Presupuesto.where(reform_id: @reform.id, user_id: current_user.id) %>
        <% @sumatorio = Budget.where(reform_id: @reform.id, user_id: current_user.id) %>

        <% @presupuestoes.map do |presupuesto| %>
          <% budget = Budget.find_by(habitacion_id: presupuesto.habitacion_id) %>
          <% if presupuesto.updated_at.to_i > budget.updated_at.to_i %>
          <% @prespuesto_actualizar = 1 %>
          <% end %>
        <% end %>

<%
=begin%>        
        <% if Confirmacion.find_by(reform_id: @reform.id, user_id: current_user.id) == nil %>
          <% if @presupuestoes.count > @sumatorio.count %> 
            <h3>
              <%= link_to reform_path(id: @reform) do %>
              <button type="button" class="btn btn-sm btn-primary" style="background-color: white; border: 1px solid #d9534f; color: #d9534f; padding: 10px; margin: 5px; margin-left: 0px; font-size: 16px;">Falta alguna habitación por validar su medición</button>
              <% end %>
            </h3>
          <% else %>
            <div>
              <h3><%= render 'confirmacions/form', confirmacion: @confirmacion %></h3>
            </div>            
          <% end %>
        <% end %>
<%
=end%>
        <% if current_user.empresa == true %>
          <% if Confirmacion.find_by(reform_id: @reform.id, user_id: current_user.id) == nil %>
            <div>
              <h5>Enviar presupuesto</h5>
              <h3><%= render 'confirmacions/form', confirmacion: @confirmacion %></h3>
            </div>
          <% else %>
            <% @confirmacion = Confirmacion.find_by(reform_id: @reform.id, user_id: current_user.id) %>
            <div>
              <h5>Actualizar y volver a enviar presupuesto</h5>
              <h3 style="margin: 0px;"><%= render 'confirmacions/form', confirmacion: @confirmacion %></h3>
            </div>
          <% end %>
        <% else %>
          <% if Confirmacion.find_by(reform_id: @reform.id, user_id: current_user.id) == nil %>
            <div>
              <h5>Pedir presupuestos</h5>
              <h3><%= render 'confirmacions/form', confirmacion: @confirmacion %></h3>
            </div>
          <% else %>
            <% if params[:empresa] != nil %>
            <% else %>
              <% @confirmacion = Confirmacion.find_by(reform_id: @reform.id, user_id: current_user.id) %>
              <div>
                <h3>Ya has solicitado presupuestos, en breve recibirás tus ofertas.</h3>
              </div>
            <% end %>
          <% end %>          
        <% end %>

      </div>
    </div>
  </div>
</div>